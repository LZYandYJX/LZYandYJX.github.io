<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>åŒæŒ‡é’ˆç®—æ³•</title>
    <link href="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/"/>
    <url>/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="åŒæŒ‡é’ˆç®—æ³•"><a href="#åŒæŒ‡é’ˆç®—æ³•" class="headerlink" title="åŒæŒ‡é’ˆç®—æ³•"></a>åŒæŒ‡é’ˆç®—æ³•</h1><h2 id="ä¸€ä¸ªç®€å•çš„ä¾‹å­"><a href="#ä¸€ä¸ªç®€å•çš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¾‹å­"></a>ä¸€ä¸ªç®€å•çš„ä¾‹å­</h2><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-24-17-57-13.png"></p><h3 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>è¾“å…¥ä¸€è¡Œå­—ä¸²å¦‚â€œabc def ghiâ€ <br>å°†å•è¯è¾“å‡ºå³<br>abc<br>def<br>ghi<br>â€»æ€è·¯ï¼Œå®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼ŒiæŒ‡å‘ç¬¬ä¸€ä¸ªå•è¯ï¼Œjå‘åæ‰«æï¼Œå¦‚æœæ‰«åˆ°â€™ â€˜ç©ºæ ¼å°±åœä¸‹æ¥ï¼Œç„¶åè¾“å‡ºiåˆ°j-1åŒ…å«çš„å•è¯ï¼Œç„¶åä½¿i &#x3D; jè¿›å…¥ä¸‹ä¸€å±‚å¾ªç¯ã€‚\</p><h3 id="å®Œæ•´ä»£ç ï¼š"><a href="#å®Œæ•´ä»£ç ï¼š" class="headerlink" title="å®Œæ•´ä»£ç ï¼š"></a>å®Œæ•´ä»£ç ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">char</span> str[<span class="hljs-number">100</span>];<br>    <span class="hljs-built_in">gets</span>(str);<br>    <span class="hljs-type">int</span> n = <span class="hljs-built_in">strlen</span>(str);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i =<span class="hljs-number">0</span>;i &lt; n;i ++)&#123;<br>        <span class="hljs-type">int</span> j = i;<br>        <span class="hljs-keyword">while</span>(j &lt; n &amp;&amp; str[j] != <span class="hljs-string">&#x27; &#x27;</span>) j++;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = i;k &lt; j;k ++) cout &lt;&lt; str[k];<br>        cout &lt;&lt; endl;<br>        i = j;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"><a href="#æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—" class="headerlink" title="æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—"></a>æœ€é•¿è¿ç»­ä¸é‡å¤å­åºåˆ—</h2><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-24-19-08-58.png"></p><h3 id="ç®—æ³•æ€æƒ³-1"><a href="#ç®—æ³•æ€æƒ³-1" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-24-19-03-51.png"><br>â€»æ¯æ¬¡éƒ½æšä¸¾i,jä»0å¼€å§‹ã€‚<br>â€»ç”¨s[]æ•°ç»„è®°å½•å½“å‰[j,i]ä¸­æ•°çš„ä¸ªæ•°ï¼Œå½“iå‰ç§»æ—¶æ—¶s[a[i]]++ï¼Œå½“s[a[i]] &gt; 1æ—¶ï¼Œè¯´æ˜åŒºé—´å†…æœ‰é‡å¤çš„æ•°ï¼Œåˆ™è®©s[a[j]]â€“ï¼Œç„¶åä½¿jå¾€å‰ç§»åŠ¨ï¼Œé‡å¤ä¸Šè¿°æ“ä½œã€‚<br>â€»ä¸é‡å¤åºåˆ—çš„é•¿åº¦res &#x3D; max(res,i - j + 1)ï¼Œå› ä¸ºiæ¯”jå¤§</p><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> a[N];<br><span class="hljs-type">int</span> s[N];<br><span class="hljs-type">int</span> n;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n ;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i]);<br>    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,j = <span class="hljs-number">0</span>;i &lt; n;i ++)&#123;<br>        s[a[i]] ++;<br>        <span class="hljs-keyword">while</span>(s[a[i]] &gt; <span class="hljs-number">1</span>)&#123;<br>            s[a[j]] --;<br>            j++;<br>        &#125;<br>        res = <span class="hljs-built_in">max</span>(res,i - j + <span class="hljs-number">1</span>);<br>    &#125;<br>    cout &lt;&lt; res &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="æ±‚nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬kä½æ•°å­—"><a href="#æ±‚nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬kä½æ•°å­—" class="headerlink" title="æ±‚nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬kä½æ•°å­—"></a>æ±‚nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬kä½æ•°å­—</h3><h3 id="ç®—æ³•æ€æƒ³-2"><a href="#ç®—æ³•æ€æƒ³-2" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>â€»æ±‚nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬kä½æ•°å­—ï¼šn &gt;&gt; k &amp; 1</p><p>â‘ å…ˆæŠŠç¬¬kä½ç§»åˆ°æœ€åä¸€ä½ï¼šn &gt;&gt; k;</p><p>â‘¡çœ‹ä¸ªä½æ˜¯å‡ :           x &amp; 1</p><h3 id="å®Œæ•´ä»£ç -1"><a href="#å®Œæ•´ä»£ç -1" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//nçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„ç¬¬kä½æ•°å­—</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n = <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k = <span class="hljs-number">3</span>;k &gt;= <span class="hljs-number">0</span>;k --)  cout &lt;&lt; (n &gt;&gt; k &amp; <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="è¿”å›nçš„æœ€åä¸€ä½1"><a href="#è¿”å›nçš„æœ€åä¸€ä½1" class="headerlink" title="è¿”å›nçš„æœ€åä¸€ä½1"></a>è¿”å›nçš„æœ€åä¸€ä½1</h2><h3 id="ç®—æ³•æ€æƒ³-3"><a href="#ç®—æ³•æ€æƒ³-3" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>â€»è¿”å›nçš„æœ€åä¸€ä½1ï¼šlowbit(n) -&gt; n &amp; - n<br><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-24-19-49-36.png"></p><h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-24-19-52-00.png"></p><h3 id="å®Œæ•´ä»£ç -2"><a href="#å®Œæ•´ä»£ç -2" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//äºŒè¿›åˆ¶æ•°ä¸­1çš„ä¸ªæ•°</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> x &amp; -x;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n;                              <span class="hljs-comment">//è¿›è¡Œnæ¬¡æŸ¥è¯¢</span><br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">while</span>(n  --)&#123;<br>        <span class="hljs-type">int</span> x;<br>        cin &gt;&gt; x;                       <span class="hljs-comment">//è¦æŸ¥è¯¢çš„æ•°x</span><br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(x) x -= <span class="hljs-built_in">lowbit</span>(x),res ++ ; <span class="hljs-comment">//æ¯æ¬¡å‡å»xçš„æœ€åä¸€ä¸ª1</span><br>        cout &lt;&lt; res &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure><h2 id="ç¦»æ•£åŒ–"><a href="#ç¦»æ•£åŒ–" class="headerlink" title="ç¦»æ•£åŒ–"></a>ç¦»æ•£åŒ–</h2><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-19-22-00.png"><br>â€»åŠ 1çš„è¯ï¼Œä»1å¼€å§‹æ˜ å°„ï¼Œä¸åŠ 1çš„è¯ï¼Œä»0å¼€å§‹æ˜ å°„</p><h3 id="ç®—æ³•æ€æƒ³-4"><a href="#ç®—æ³•æ€æƒ³-4" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-19-23-59.png"><br>1.ä»‹ç»</p><p>ç¦»æ•£åŒ–ï¼ŒæŠŠæ— é™ç©ºé—´ä¸­æœ‰é™çš„ä¸ªä½“æ˜ å°„åˆ°æœ‰é™çš„ç©ºé—´ä¸­å»ï¼Œä»¥æ­¤æé«˜ç®—æ³•çš„æ—¶ç©ºæ•ˆç‡ã€‚é€šä¿—çš„è¯´ï¼Œç¦»æ•£åŒ–æ˜¯åœ¨ä¸æ”¹å˜æ•°æ®ç›¸å¯¹å¤§å°çš„æ¡ä»¶ä¸‹ï¼Œå¯¹æ•°æ®è¿›è¡Œç›¸åº”çš„ç¼©å°ã€‚ç¦»æ•£åŒ–æœ¬è´¨ä¸Šå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§å“ˆå¸Œã€‚<br>2.ç®—æ³•<br><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-19-17-22.png"><br>â€»uniqueå‡½æ•°æ˜¯å°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ å»é‡ï¼Œè¿”å›å»é‡ä¹‹åæ•°ç»„çš„å°¾ç«¯ç‚¹ï¼Œä½¿ç”¨uniqueå‡½æ•°å¿…é¡»å…ˆæ’åºã€‚<br>â€»eraseå‡½æ•°æ˜¯åˆ é™¤uniqueå‡½æ•°è¿”å›çš„å°¾ç«¯ç‚¹ä¸æ•°ç»„å°¾ç«¯ç‚¹çš„å€¼ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤é‡å¤å…ƒç´ </p><h3 id="ä¾‹é¢˜-1"><a href="#ä¾‹é¢˜-1" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-19-26-31.png"></p><h3 id="å®Œæ•´ä»£ç -3"><a href="#å®Œæ•´ä»£ç -3" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//ç¦»æ•£åŒ–</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">3e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n ,m;<br><span class="hljs-type">int</span> a[N],s[N];<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; PII;      <br><br>vector&lt;<span class="hljs-type">int</span>&gt; alls;       <span class="hljs-comment">//å­˜çš„æ‰€è¦ç¦»æ•£åŒ–çš„å…ƒç´ </span><br>vector&lt;PII&gt; add,query; <br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br>    <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>,r = alls.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(l &lt; r)&#123;<br>        <span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(alls[mid] &gt;= x) r = mid;<br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> r + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++)&#123;<br>        <span class="hljs-type">int</span> x,c;<br>        cin &gt;&gt; x &gt;&gt; c;<br>        add.<span class="hljs-built_in">push_back</span>(&#123;x, c&#125;);<br>        alls.<span class="hljs-built_in">push_back</span>(x);          <span class="hljs-comment">//å°†xåŠ å…¥åˆ°å¾…ç¦»æ•£åŒ–çš„æ•°ç»„é‡Œé¢å»</span><br>    &#125;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; m;i ++)&#123;<br>        <span class="hljs-type">int</span> l,r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        query.<span class="hljs-built_in">push_back</span>(&#123;l, r&#125;);<br>        alls.<span class="hljs-built_in">push_back</span>(l);          <span class="hljs-comment">//å°†å·¦åŒºé—´åŠ å…¥åˆ°å¾…ç¦»æ•£åŒ–çš„æ•°ç»„é‡Œé¢å»</span><br>        alls.<span class="hljs-built_in">push_back</span>(r);          <span class="hljs-comment">//å°†å³åŒºé—´åŠ å…¥åˆ°å¾…ç¦»æ•£åŒ–çš„æ•°ç»„é‡Œé¢å»</span><br>    &#125;<br><br>    <span class="hljs-comment">//å»é‡</span><br>    <span class="hljs-built_in">sort</span>(alls.<span class="hljs-built_in">begin</span>(),alls.<span class="hljs-built_in">end</span>());      <span class="hljs-comment">//å…ˆæ’åº</span><br>    alls.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">unique</span>(alls.<span class="hljs-built_in">begin</span>(),alls.<span class="hljs-built_in">end</span>()),alls.<span class="hljs-built_in">end</span>());     <span class="hljs-comment">//å»æ‰é‡å¤å…ƒç´ </span><br>    <br>    <span class="hljs-comment">//å¤„ç†æ’å…¥</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> item : add)&#123;<br>        <span class="hljs-type">int</span> x = <span class="hljs-built_in">find</span>(item.first);   <span class="hljs-comment">//item.firstç›¸å½“ä¸x</span><br>        a[x] += item.second;        <span class="hljs-comment">//åœ¨ç¦»æ•£åŒ–åçš„ä½ç½®åŠ ä¸Šè¦åŠ çš„æ•°  item.secondç›¸å½“äºc</span><br>    &#125;<br>   <br>    <span class="hljs-comment">//å¤„ç†å‰ç¼€å’Œ</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= alls.<span class="hljs-built_in">size</span>();i ++) s[i] = s[i - <span class="hljs-number">1</span>] + a[i];<br>  <br>    <span class="hljs-comment">//å¤„ç†æŸ¥è¯¢</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> item : query)&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-built_in">find</span>(item.first), r = <span class="hljs-built_in">find</span>(item.second);<br>        cout &lt;&lt; s[r] - s[l - <span class="hljs-number">1</span>] &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åŒºé—´åˆå¹¶"><a href="#åŒºé—´åˆå¹¶" class="headerlink" title="åŒºé—´åˆå¹¶"></a>åŒºé—´åˆå¹¶</h2><p><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-20-05-30.png"></p><h3 id="ç®—æ³•æ€æƒ³-5"><a href="#ç®—æ³•æ€æƒ³-5" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>â€»å›¾è§£<br><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-20-08-35.png"><br>1.æŒ‰åŒºé—´å·¦ç«¯ç‚¹æ’åº<br>2.æ‰«ææ•´ä¸ªåŒºé—´ï¼Œæ‰«æè¿‡ç¨‹ä¸­ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½æœ‰äº¤é›†çš„åŒºé—´è¿›è¡Œåˆå¹¶<br><img src="/2023/04/24/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/2023-04-26-20-41-24.png"></p><h3 id="å®Œæ•´ä»£ç -4"><a href="#å®Œæ•´ä»£ç -4" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//åŒºé—´åˆå¹¶</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; PII;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n ;<br>vector&lt;PII&gt; segs;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(vector&lt;PII&gt; &amp;segs)</span></span>&#123;<br>    vector&lt;PII&gt; res;<br>    <span class="hljs-built_in">sort</span>(segs.<span class="hljs-built_in">begin</span>(),segs.<span class="hljs-built_in">end</span>());      <span class="hljs-comment">//å¯¹pariï¼Œä¼˜å…ˆä»¥å·¦ç«¯ç‚¹æ’åºï¼Œå†ä»¥å³ç«¯ç‚¹æ’åº</span><br>    <span class="hljs-type">int</span> st = <span class="hljs-number">-2e9</span>,ed = <span class="hljs-number">-2e9</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> seg:segs)&#123;<br>        <span class="hljs-keyword">if</span>(ed &lt; seg.first)&#123;<br>            <span class="hljs-keyword">if</span>(st != <span class="hljs-number">-2e9</span>)<br>                res.<span class="hljs-built_in">push_back</span>(&#123;st,ed&#125;);<br>            st = seg.first,ed = seg.second;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            ed = <span class="hljs-built_in">max</span>(ed,seg.second);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(st != <span class="hljs-number">-2e9</span>) res.<span class="hljs-built_in">push_back</span>(&#123;st,ed&#125;);<br>    segs = res;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++)&#123;<br>        <span class="hljs-type">int</span> l,r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        segs.<span class="hljs-built_in">push_back</span>(&#123;l,r&#125;);<br>    &#125;<br><br>    <span class="hljs-built_in">merge</span>(segs);<br>    cout &lt;&lt; segs.<span class="hljs-built_in">size</span>() &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡ä¹ é¢˜è¯¾</title>
    <link href="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/"/>
    <url>/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬Kä¸ªæ•°-å¿«é€Ÿé€‰æ‹©"><a href="#ç¬¬Kä¸ªæ•°-å¿«é€Ÿé€‰æ‹©" class="headerlink" title="ç¬¬Kä¸ªæ•°(å¿«é€Ÿé€‰æ‹©)"></a>ç¬¬Kä¸ªæ•°(å¿«é€Ÿé€‰æ‹©)</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-23-21-50-37.png"></p><h2 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p>ğŸ”ºå¿«æ’æ€æƒ³<br>â€»æ‰¾åˆ°åˆ†ç•Œç‚¹xï¼Œq[l],q[(l + r) &gt;&gt; 1],q[r].<br>â€»å·¦è¾¹æ‰€æœ‰æ•°Left &lt;&#x3D; x,å³è¾¹æ‰€æœ‰æ•°Right &gt;&#x3D; x.<br>â€»é€’å½’æ’åºLeftï¼Œé€’å½’æ’åºRight<br>ğŸ”ºå¿«é€‰æ€æƒ³<br>â€»æ‰¾åˆ°åˆ†ç•Œç‚¹xï¼Œq[l],q[(l + r) &gt;&gt; 1],q[r].<br>â€»å·¦è¾¹æ‰€æœ‰æ•°Left &lt;&#x3D; x,å³è¾¹æ‰€æœ‰æ•°Right &gt;&#x3D; x.<br>â€»ç»Ÿè®¡xå·¦è¾¹æ‰€æœ‰æ•°çš„ä¸ªæ•°S<sub>l</sub>,å’Œå³è¾¹æ‰€æœ‰æ•°çš„ä¸ªæ•°S<sub>r</sub>.<br>â€»â‘ å½“K &lt;&#x3D; S<sub>l</sub>æ—¶ï¼Œåˆ™é€’å½’å·¦è¾¹åŒºé—´ è¦æŸ¥æ‰¾çš„ä¸ªæ•°ä¸ºS<sub>l</sub><br>â€»â‘¡å½“K &gt; S<sub>l</sub>æ—¶ï¼Œåˆ™é€’å½’å³è¾¹åŒºé—´ è¦æŸ¥æ‰¾çš„ä¸ªæ•°åº”å˜ä¸ºK -  S<sub>l</sub><br>â€»æ—¶é—´å¤æ‚åº¦o(n).</p><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n,k;<br><span class="hljs-type">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">quick_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> k)</span></span>&#123;      <span class="hljs-comment">//C++ä¸­ï¼Œå±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡é‡åæ—¶ï¼Œä¼˜å…ˆä½¿ç”¨å±€éƒ¨å˜é‡</span><br>    <span class="hljs-keyword">if</span> (l == r)                         <span class="hljs-comment">//å¿«æ’é‡Œé¢å¿…é¡»å†™&gt;=,è€Œå¿«é€‰2ä¸ªå‡å¯</span><br>        <span class="hljs-keyword">return</span> q[l];                    <span class="hljs-comment">//å½“é€’å½’åªå‰©ä¸€ä¸ªæ•°æ—¶ï¼Œåˆ™æ˜¯è¦æŸ¥æ‰¾çš„æ•°</span><br>    <span class="hljs-type">int</span> i = l - <span class="hljs-number">1</span>,j = r + <span class="hljs-number">1</span>,x = q[l];<br>    <span class="hljs-keyword">while</span>(i &lt; j)&#123;<br>        <span class="hljs-keyword">do</span> i ++;<span class="hljs-keyword">while</span>(q[i] &lt; x);<br>        <span class="hljs-keyword">do</span> j --;<span class="hljs-keyword">while</span>(q[j] &gt; x);<br>        <span class="hljs-keyword">if</span>(i &lt; j) <span class="hljs-built_in">swap</span>(q[i],q[j]);<br>    &#125;<br>    <span class="hljs-type">int</span> sl = j - l + <span class="hljs-number">1</span>;     <span class="hljs-comment">//å·¦åŠè¾¹åŒºé—´æ˜¯[l,j]ï¼Œå³åŠåŒºé—´æ˜¯[j+1,r],æ‰€ä»¥sl = j - l + 1;</span><br>    <span class="hljs-keyword">if</span>(k &lt;= sl) <span class="hljs-keyword">return</span> <span class="hljs-built_in">quick_sort</span>(l,j,k);<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">quick_sort</span>(j+<span class="hljs-number">1</span>,r,k-sl);      <span class="hljs-comment">//æ•´ä¸ªåŒºé—´ç¬¬Kå°ä¸ªæ•°ï¼Œç›¸å½“äºæ˜¯å³åŠåŒºé—´ç¬¬K-slå°ä¸ªæ•°</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; k ;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q[i]);<br>    cout &lt;&lt; <span class="hljs-built_in">quick_sort</span>(<span class="hljs-number">0</span>,n - <span class="hljs-number">1</span>,k) &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="é€†åºå¯¹çš„æ•°é‡"><a href="#é€†åºå¯¹çš„æ•°é‡" class="headerlink" title="é€†åºå¯¹çš„æ•°é‡"></a>é€†åºå¯¹çš„æ•°é‡</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-23-21-51-15.png"></p><h2 id="ç®—æ³•æ€æƒ³-1"><a href="#ç®—æ³•æ€æƒ³-1" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p>ğŸ”ºå½’å¹¶æ’åºæ€æƒ³<br>â€»[L,R] &#x3D;&gt; åˆ†ä¸º[L,mid],[mid + 1,R]<br>â€»é€’å½’æ’åº[L,mid]å’Œ[mid + 1,R]<br>â€»å½’å¹¶ï¼Œå°†å·¦å³ä¸¤ä¸ªæœ‰åºåºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—<br><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-23-21-51-39.png"></p><h2 id="å®Œæ•´ä»£ç -1"><a href="#å®Œæ•´ä»£ç -1" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//é€†åºå¯¹çš„æ•°é‡</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> LL;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> q[N],temp[N];<br><span class="hljs-type">int</span> n;<br><span class="hljs-function">LL <span class="hljs-title">merge_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    LL res = <span class="hljs-built_in">merge_sort</span>(l,mid) + <span class="hljs-built_in">merge_sort</span>(mid + <span class="hljs-number">1</span>,r);<br>    <span class="hljs-type">int</span> k = <span class="hljs-number">0</span>,i = l,j = mid + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)&#123;<br>        <span class="hljs-keyword">if</span>(q[i] &lt;= q[j])     temp[k ++] = q[i ++];<br>        <span class="hljs-keyword">else</span> &#123;<br>            temp[k ++] = q[j ++];<br>            res += mid - i + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(i &lt;= mid) temp[k ++] = q[i ++];<br>    <span class="hljs-keyword">while</span>(j &lt;= r) temp[k ++] = q[j ++];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = l,j = <span class="hljs-number">0</span>;i &lt;= r;i++,j++)&#123;<br>        q[i] = temp [j];<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n ;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q[i]);<br>    cout &lt;&lt; <span class="hljs-built_in">merge_sort</span>(<span class="hljs-number">0</span>,n - <span class="hljs-number">1</span>) &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ•°çš„ä¸‰æ¬¡æ–¹æ ¹"><a href="#æ•°çš„ä¸‰æ¬¡æ–¹æ ¹" class="headerlink" title="æ•°çš„ä¸‰æ¬¡æ–¹æ ¹"></a>æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-23-22-57-45.png"></p><h2 id="ç®—æ³•æ€æƒ³-2"><a href="#ç®—æ³•æ€æƒ³-2" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p>ä¸æµ®ç‚¹äºŒåˆ†ä¸€æ · åªæ˜¯åˆ¤æ–­æ¡ä»¶ä¸åŒè€Œå·²ã€‚</p><h2 id="å®Œæ•´ä»£ç -2"><a href="#å®Œæ•´ä»£ç -2" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//æ±‚æ•°çš„ä¸‰æ¬¡æ–¹æ ¹</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">double</span> x;<br>    cin &gt;&gt; x;<br>    <span class="hljs-type">double</span> l = <span class="hljs-number">-10000</span>,r = <span class="hljs-number">10000</span>;<br>    <span class="hljs-keyword">while</span>(r - l &gt; <span class="hljs-number">1e-8</span>)&#123;<br>        <span class="hljs-type">double</span> mid = (l + r) / <span class="hljs-number">2</span> ;<br>        <span class="hljs-keyword">if</span>(mid * mid * mid &gt;=x)  r = mid;<br>        <span class="hljs-keyword">else</span> l = mid;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lf\n&quot;</span>,l);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å‰ç¼€å’Œ"><a href="#å‰ç¼€å’Œ" class="headerlink" title="å‰ç¼€å’Œ"></a>å‰ç¼€å’Œ</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-23-23-18-27.png"><br><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-23-23-19-58.png"></p><h2 id="ç®—æ³•æ€æƒ³-3"><a href="#ç®—æ³•æ€æƒ³-3" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p>ä¸ä¸€ç»´å‰ç¼€å’Œç®—æ³•ä¸€è‡´</p><h2 id="å®Œæ•´ä»£ç -3"><a href="#å®Œæ•´ä»£ç -3" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//å‰ç¼€å’Œ</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> n,m;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> a[N],S[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) cin &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) S[i] = S[i - <span class="hljs-number">1</span>] + a[i];<br>    <span class="hljs-keyword">while</span>(m --)&#123;<br>        <span class="hljs-type">int</span> l,r;<br>        cin &gt;&gt; l &gt;&gt; r;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,S[r]-S[l - <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å­çŸ©é˜µçš„å’Œ"><a href="#å­çŸ©é˜µçš„å’Œ" class="headerlink" title="å­çŸ©é˜µçš„å’Œ"></a>å­çŸ©é˜µçš„å’Œ</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-16-05-54.png"></p><h2 id="ç®—æ³•æ€æƒ³-4"><a href="#ç®—æ³•æ€æƒ³-4" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-15-48-43.png"></p><h2 id="å®Œæ•´ä»£ç -4"><a href="#å®Œæ•´ä»£ç -4" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//å­çŸ©é˜µçš„å’Œ</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-type">int</span> n,m,q;<br><span class="hljs-type">int</span> a[N][N],s[N][N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;q);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i][j]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m ;j ++)<br>            s[i][j] = s[i - <span class="hljs-number">1</span>][j] + s[i][j - <span class="hljs-number">1</span>] -s[i <span class="hljs-number">-1</span>][j - <span class="hljs-number">1</span>] + a[i][j];<br>    <span class="hljs-keyword">while</span>(q--)&#123;<br>        <span class="hljs-type">int</span> x1,x2,y1,y2;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,s[x2][y2]-s[x1 - <span class="hljs-number">1</span>][y2] - s[x2][y1 - <span class="hljs-number">1</span>] + s[x1 - <span class="hljs-number">1</span>][y1 - <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä¸€ç»´å·®åˆ†"><a href="#ä¸€ç»´å·®åˆ†" class="headerlink" title="ä¸€ç»´å·®åˆ†"></a>ä¸€ç»´å·®åˆ†</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-16-06-11.png"></p><h2 id="ç®—æ³•æ€æƒ³-5"><a href="#ç®—æ³•æ€æƒ³-5" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-15-58-47.png"><br><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-16-01-30.png"></p><h2 id="å®Œæ•´ä»£ç -5"><a href="#å®Œæ•´ä»£ç -5" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// ä¸€ç»´å·®åˆ†</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n,m;<br><span class="hljs-type">int</span> a[N],b[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> c)</span></span>&#123;<br>    b[l] += c;<br>    b[r + <span class="hljs-number">1</span>] -= c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) cin &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) <span class="hljs-built_in">insert</span>(i,i,a[i]);<br>    <span class="hljs-keyword">while</span>(m --)&#123;<br>        <span class="hljs-type">int</span> l,r,c;<br>        cin &gt;&gt; l &gt;&gt; r &gt;&gt; c;<br>        <span class="hljs-built_in">insert</span>(l,r,c);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) a[i] = a[i - <span class="hljs-number">1</span>] + b[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n; i ++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,a[i]);<br>    <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot; &quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å·®åˆ†çŸ©é˜µ"><a href="#å·®åˆ†çŸ©é˜µ" class="headerlink" title="å·®åˆ†çŸ©é˜µ"></a>å·®åˆ†çŸ©é˜µ</h1><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-16-17-51.png"></p><h2 id="ç®—æ³•æ€æƒ³-6"><a href="#ç®—æ³•æ€æƒ³-6" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p><img src="/2023/04/23/%E7%AC%AC%E4%B8%80%E6%AC%A1%E4%B9%A0%E9%A2%98%E8%AF%BE/2023-04-24-16-43-13.png"></p><h2 id="å®Œæ•´ä»£ç -6"><a href="#å®Œæ•´ä»£ç -6" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-type">int</span> n,m,q;<br><span class="hljs-type">int</span> a[N][N],b[N][N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> x1,<span class="hljs-type">int</span> y1,<span class="hljs-type">int</span> x2,<span class="hljs-type">int</span> y2,<span class="hljs-type">int</span> c)</span></span>&#123;<br>    b[x1][y1] += c;<br>    b[x1][y2 + <span class="hljs-number">1</span>] -= c;<br>    b[x2 + <span class="hljs-number">1</span>][y1] -= c;<br>    b[x2 + <span class="hljs-number">1</span>][y2 + <span class="hljs-number">1</span>] += c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;q);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i][j]);<br>            <span class="hljs-built_in">insert</span>(i,j,i,j,a[i][j]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(q--)&#123;<br>        <span class="hljs-type">int</span> x1,y1,x2,y2,c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2,&amp;c);<br>        <span class="hljs-built_in">insert</span>(x1,y1,x2,y2,c);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            a[i][j] = a[i - <span class="hljs-number">1</span>][j] + a[i][j - <span class="hljs-number">1</span>] - a[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + b[i][j];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,a[i][j]);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åŒæŒ‡é’ˆç®—æ³•</title>
    <link href="/2023/04/22/Pointer/"/>
    <url>/2023/04/22/Pointer/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç¼€å’Œä¸å·®åˆ†</title>
    <link href="/2023/04/22/Prefix/"/>
    <url>/2023/04/22/Prefix/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ç»´å‰ç¼€å’Œ"><a href="#ä¸€ç»´å‰ç¼€å’Œ" class="headerlink" title="ä¸€ç»´å‰ç¼€å’Œ"></a>ä¸€ç»´å‰ç¼€å’Œ</h1><h2 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><font color = e02b70 size = 4>1.æ•°ç»„ä»a1ï¼Œa2...aå­˜å‚¨ï¼Œå‰ç¼€å’Œçš„å®šä¹‰ä¸ºS<sub>i</sub>=a<sub>1</sub>+a<sub>2</sub>+...+a<sub>i</sub>\2.æ±‚S<sub>i</sub>\è®¾ç½®S<sub>0</sub> = 0.é€šè¿‡å¾ªç¯ï¼ŒS<sub>i</sub> = S<sub>i-1</sub>+a<sub>i</sub>ï¼Œå³å¯æ±‚å‡ºæ¯ä¸ªS<sub>i</sub>çš„å€¼3.æ±‚åŒºé—´[l,r]çš„å€¼x\åˆ©ç”¨x = S<sub>i</sub>-S<sub>i-1</sub>ï¼Œå³å¯æ±‚å‡ºç­”æ¡ˆã€‚</font><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> +<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n,m;<br><span class="hljs-type">int</span> q[N],S[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q[i]);<br>    S[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) S[i] = S[i<span class="hljs-number">-1</span>] + q[i];            <span class="hljs-comment">//å‰ç¼€å’Œçš„åˆå§‹åŒ–</span><br>    <span class="hljs-keyword">while</span>(m--)&#123;<br>        <span class="hljs-type">int</span> l,r;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;l,&amp;r);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,S[r] - S[l - <span class="hljs-number">1</span>]);                   <span class="hljs-comment">//åŒºé—´å’Œçš„è®¡ç®—</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="äºŒç»´å‰ç¼€å’Œ"><a href="#äºŒç»´å‰ç¼€å’Œ" class="headerlink" title="äºŒç»´å‰ç¼€å’Œ"></a>äºŒç»´å‰ç¼€å’Œ</h1><h2 id="ç®—æ³•æ€æƒ³-1"><a href="#ç®—æ³•æ€æƒ³-1" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><font color = e02b70 size = 4>1.æ•°ç»„å­˜å‚¨åœ¨äºŒä½æ•°ç»„ä¸­ å‰ç¼€å’Œä¸ºS<sub>i</sub><sub>j</sub>ï¼Œå³åŒ…å«åœ¨è¿™ä¸ªé¢ç§¯é‡Œé¢æ•°çš„æ€»å’Œ\2.æ±‚S<sub>i</sub><sub>j</sub>\è®¡ç®—å…¬å¼S<sub>i</sub><sub>j</sub> = S<sub>i-1</sub><sub>j</sub> + S<sub>i</sub><sub>j-1</sub> + a<sub>i</sub><sub>j</sub>;åˆå§‹åŒ–S[0][0] = 0,é€šè¿‡2å±‚forå¾ªç¯å³å¯æ±‚å‡ºS[i][j]çš„å€¼ã€‚3.æ±‚å­çŸ©é˜µ(x1,y1)åˆ°(x2,y2)çš„å€¼x\x = S[x2][y2] - S[x1 - 1][y2]-S[x2][y1 - 1] + S[x1 - 1][y1 - 1]</font><h2 id="å®Œæ•´ä»£ç -1"><a href="#å®Œæ•´ä»£ç -1" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-type">int</span> n,m,q;<br><span class="hljs-type">int</span> a[N][N],S[N][N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;q);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i][j]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            S[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>            S[i][j] = S[i - <span class="hljs-number">1</span>][j] + S[i][j - <span class="hljs-number">1</span>] + a[i][j];          <span class="hljs-comment">//æ±‚å‰ç¼€å’Œ</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(q--)&#123;<br>        <span class="hljs-type">int</span> x1,y1,x2,y2;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,S[x2][y2]-S[x1 - <span class="hljs-number">1</span>][y2]-S[x2][y1 - <span class="hljs-number">1</span>] + S[x1 - <span class="hljs-number">1</span>][y1 - <span class="hljs-number">1</span>]);   <span class="hljs-comment">//ç®—å­çŸ©é˜µçš„å’Œ</span><br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä¸€ç»´å·®åˆ†-å‰ç¼€å’Œçš„é€†è¿ç®—"><a href="#ä¸€ç»´å·®åˆ†-å‰ç¼€å’Œçš„é€†è¿ç®—" class="headerlink" title="ä¸€ç»´å·®åˆ†(å‰ç¼€å’Œçš„é€†è¿ç®—)"></a>ä¸€ç»´å·®åˆ†(å‰ç¼€å’Œçš„é€†è¿ç®—)</h1><h2 id="ç®—æ³•æ€æƒ³-2"><a href="#ç®—æ³•æ€æƒ³-2" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><font color = e02b70 size = 4>1.æ•°ç»„a[1],a[2]...a[n]ï¼Œæ„é€ æ•°ç»„b[1],b[2]...b[n]ä½¿å¾—a[i] = b[1] + b[2] + ... +b[i]æ­¤æ—¶aä¸ºbçš„å‰ç¼€å’Œï¼Œbä¸ºaçš„å·®åˆ†ã€‚<p>2.è¦è®©a[l]åˆ°a[r]ä¸­çš„æ¯ä¸ªæ•°éƒ½+cä¹Ÿå°±æ˜¯a[l] + c,a[l + 1] + c,â€¦,a[r] + c<br>3.é‚£ä¹ˆå½“b[l] + cæ—¶ï¼Œa[l]è‡³a[r]éƒ½ä¼š+cï¼Œå¹¶ä¸”a[r+1]åˆ°a[n]éƒ½ä¼š+cã€‚<br>ä¸ºäº†ä½¿a[r+1]åˆ°a[n]ä¸èƒ½+cï¼Œåˆ™ä»¤b[r + 1] - c,å³å¯åšåˆ°ã€‚<br>â€»æ•°æ®åˆå§‹åŒ–æ—¶ï¼Œä»¤æ•°ç»„aä¸æ•°ç»„bä¸­çš„å…ƒç´ éƒ½æ˜¯0ï¼Œç„¶åå†åˆ©ç”¨ä¸Šé¢çš„æ€§è´¨ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„båœ¨[i,i]ä¸­æ’å…¥è¦è¾“å…¥çš„æ•°å€¼a[i]ï¼Œè¿™æ ·å°±å®Œæˆäº†æ•°ç»„bçš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚æ‰€ä»¥è¦è®¾ä¸€ä¸ªinsertæ’å…¥å‡½æ•°ï¼Œåœ¨[lï¼Œr]ä¸­æ’å…¥æ•°æ®cï¼Œä¹Ÿå°±æ˜¯b[l] +&#x3D; c,b[r + 1] -&#x3D; cã€‚</font></p><h2 id="å®Œæ•´ä»£ç -2"><a href="#å®Œæ•´ä»£ç -2" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//ä¸€ç»´å·®åˆ†</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">int</span> n,m;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> +<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> a[N],b[N];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> c)</span></span>&#123;<br>    b[l] += c;<br>    b[r + <span class="hljs-number">1</span>] -= c;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) <span class="hljs-built_in">insert</span>(i,i,a[i]);        <span class="hljs-comment">//ç›¸å½“äºåœ¨åˆå§‹åŒ–æ•°ç»„</span><br>    <span class="hljs-keyword">while</span>(m--)&#123;<br>        <span class="hljs-type">int</span> l,r,c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;l,&amp;r,&amp;c);<br>        <span class="hljs-built_in">insert</span>(l,r,c);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) b[i] += b[i - <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\t&quot;</span>,b[i]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æç¤º"><a href="#æç¤º" class="headerlink" title="æç¤º"></a>æç¤º</h2><font color = e02b70 size = 4>1.æœ€å¼€å§‹æ—¶å°±å‡è®¾äº†æ•°ç»„aä¸æ•°ç»„bä¸­çš„å…ƒç´ éƒ½ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³äº†ä¸Šè¿°æ•°ç»„aä¸æ•°ç»„bçš„å…³ç³»<p>2.ç„¶åä¸ºäº†æ”¹å˜æ•°ç»„aä¸­çš„å€¼ä¹Ÿå°±æ˜¯æ”¹å˜æ•°ç»„bçš„å€¼ï¼Œä¹Ÿå°±æ˜¯ç”¨æ’å…¥å‡½æ•°æ”¹å˜bæ•°ç»„å…ƒç´ çš„å€¼ï¼Œæœ€åæ±‚bæ•°ç»„çš„å‰ç¼€å’Œä¹Ÿå°±æ˜¯æ±‚å‡ºäº†aæ•°ç»„ã€‚</p><h1 id="äºŒç»´å·®åˆ†"><a href="#äºŒç»´å·®åˆ†" class="headerlink" title="äºŒç»´å·®åˆ†"></a>äºŒç»´å·®åˆ†</h1><h2 id="ç®—æ³•æ€æƒ³-3"><a href="#ç®—æ³•æ€æƒ³-3" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h2><p>1.ä¸ä¸€ç»´å·®åˆ†ç›¸ä¼¼ï¼Œåˆå§‹æ—¶æ•°ç»„aä¸æ•°ç»„bä¸­çš„å…ƒç´ å€¼å…¨ä¸º0ï¼Œå³æ„é€ å‡ºäº†ç¬¦åˆæ•°ç»„aä¸æ•°ç»„bå…³ç³»çš„æ•°ç»„<br>2.ä¹¦å†™æ›´æ–°bæ•°ç»„çš„inert()å‡½æ•°,å‡è®¾åœ¨[x1,y1][x2,y2]çš„å­çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½+c<br>åˆ™æ›´æ–°çš„å‡½æ•°insert()å‡½æ•°ä¸º:<br>b[x1][y1] +&#x3D;c<br>b[x2 + 1][y1] -&#x3D; c<br>b[x1][y2 + 1] -&#x3D; c<br>b[x2 + 1][y2 + 1] +&#x3D; c<br>3.ç„¶åå°±æ˜¯æ¥æ”¶aæ•°ç»„å…ƒç´ çš„å€¼ï¼Œç„¶åæ ¹æ®aæ•°ç»„æ”¹å˜bæ•°ç»„çš„å€¼ï¼Œåˆ©ç”¨insert()å‡½æ•°æ”¹å˜<br>4.æœ€åæ±‚å‡ºbæ•°ç»„çš„å‰ç¼€å’Œä¹Ÿå°±æ˜¯è¦æ±‚çš„ç­”æ¡ˆäº†.<br></font></p><h2 id="å®Œæ•´ä»£ç -3"><a href="#å®Œæ•´ä»£ç -3" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1010</span>;<br><span class="hljs-type">int</span> a[N][N];<br><span class="hljs-type">int</span> b[N][N];<br><span class="hljs-type">int</span> n,m,p;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> x1,<span class="hljs-type">int</span> y1,<span class="hljs-type">int</span> x2,<span class="hljs-type">int</span> y2,<span class="hljs-type">int</span> c)</span></span>&#123;<br>    b[x1][y1] += c;<br>    b[x2 + <span class="hljs-number">1</span>][y1] -= c;<br>    b[x1][y2 + <span class="hljs-number">1</span>] -= c;<br>    b[x2 + <span class="hljs-number">1</span>][y2 + <span class="hljs-number">1</span>] += c;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;p);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i][j]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            <span class="hljs-built_in">insert</span>(i,j,i,j,a[i][j]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(p--)&#123;<br>        <span class="hljs-type">int</span> x1,y1,x2,y2,c;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d%d&quot;</span>,&amp;x1,&amp;y1,&amp;x2,&amp;y2,&amp;c);<br>        <span class="hljs-built_in">insert</span>(x1,y1,x2,y2,c);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            b[i][j] += b[i - <span class="hljs-number">1</span>][j] + b[i][j - <span class="hljs-number">1</span>] -b[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;i &lt;= n;i ++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>;j &lt;= m;j ++)&#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,b[i][j]);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><font color = e02b70 size = 4>â€»å·®åˆ†ä¸éœ€è¦è€ƒè™‘å¦‚ä½•å»æ„é€ å‡½æ•°ï¼Œå› ä¸ºåœ¨æœ€åˆå°±å‡è®¾äº†æ•°ç»„aä¸æ•°ç»„bä¸­çš„å…ƒç´ å€¼å…¨ä¸º0ï¼Œä¹Ÿå°±ç¬¦åˆäº†bæ˜¯açš„å·®åˆ†ï¼Œè€Œaæ˜¯bçš„å‰ç¼€å’Œ<p>â€»æ‰€ä»¥æœ€ç»ˆå°±æ˜¯è¦æ±‚æ›´æ–°å‡½æ•°,ä¹Ÿå°±æ˜¯inert()å‡½æ•°ï¼ï¼ï¼<br></font></p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é«˜ç²¾åº¦</title>
    <link href="/2023/04/20/Highprecision/"/>
    <url>/2023/04/20/Highprecision/</url>
    
    <content type="html"><![CDATA[<h1 id="é«˜ç²¾åº¦ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼‰"><a href="#é«˜ç²¾åº¦ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼‰" class="headerlink" title="é«˜ç²¾åº¦ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼‰"></a>é«˜ç²¾åº¦ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼‰</h1><h2 id="é«˜ç²¾åº¦åŠ æ³•"><a href="#é«˜ç²¾åº¦åŠ æ³•" class="headerlink" title="é«˜ç²¾åº¦åŠ æ³•"></a>é«˜ç²¾åº¦åŠ æ³•</h2><h3 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>1.å°†é«˜ç²¾åº¦æ•°ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºstring aï¼Œbï¼Œå†ç”¨vectorç”¨æ•°ç»„è¡¨ç¤ºvector<int> A,Bï¼Œå†è°ƒç”¨push_backæ–¹æ³•é€†åºå­˜å‚¨ï¼Œå­˜å‚¨ç”±ä½ä½å‘é«˜ä½å­˜å‚¨ï¼Œè¿™æ ·è¿›ä½æ—¶æ–¹ä¾¿å­˜å‚¨ï¼Œå³åŸå§‹æ•°ä¸ºâ€123456â€,åˆ™å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å€¼ä¸º[6,5,4,3,2,1].<br>2.è®¾ç½®è¿›ä½t æœ¬ä½çš„å€¼ç­‰äº(t + A[i] + B[i])%10<br>ç„¶åä¼ ç»™ä¸‹ä¸€ä½çš„è¿›ä½ä¸º t &#x3D; (t + A[i] + B[i])&#x2F;10<br>3.å¦‚æœå¤„ç†å®Œ æœ€åè¿›ä½tå­˜åœ¨çš„è¯ï¼Œåˆ™å°†æ•°ç»„æœ€åä»¥ä¸ºç½®1\</p><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//C = A + B  å¤§æ•´æ•°åŠ æ³•</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">add</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,vector&lt;<span class="hljs-type">int</span>&gt; &amp;B)</span></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; C;<br>    <span class="hljs-type">int</span> t = <span class="hljs-number">0</span>;          <span class="hljs-comment">//è¿›ä½</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; A.<span class="hljs-built_in">size</span>() || i &lt; B.<span class="hljs-built_in">size</span>();i ++)&#123;<br>        <span class="hljs-keyword">if</span>(i &lt; A.<span class="hljs-built_in">size</span>()) t += A[i];<br>        <span class="hljs-keyword">if</span>(i &lt; B.<span class="hljs-built_in">size</span>()) t += B[i];             <span class="hljs-comment">//t = t + a[i] + b[i]</span><br>        C.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(t) C.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string a,b;<br>    vector&lt;<span class="hljs-type">int</span>&gt; A,B;<br>    cin &gt;&gt; a &gt;&gt; b;  <span class="hljs-comment">//a = &quot;123456&quot;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<span class="hljs-comment">//A = [6,5,4,3,2,1,]</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = b.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --) B.<span class="hljs-built_in">push_back</span>(b[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">add</span>(A,B);                  <span class="hljs-comment">//è‡ªåŠ¨è¿”å›å¯¹åº”çš„ç±»å‹ä¹Ÿå°±æ˜¯vector&lt;int&gt;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i--) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,C[i]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä»£ç æ¨¡æ¿"><a href="#ä»£ç æ¨¡æ¿" class="headerlink" title="ä»£ç æ¨¡æ¿"></a>ä»£ç æ¨¡æ¿</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">add</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,vector&lt;<span class="hljs-type">int</span>&gt; &amp;B)</span></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; C;<br>    <span class="hljs-type">int</span> t = <span class="hljs-number">0</span>;          <span class="hljs-comment">//è¿›ä½</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; A.<span class="hljs-built_in">size</span>() || i &lt; B.<span class="hljs-built_in">size</span>();i ++)&#123;<br>        <span class="hljs-keyword">if</span>(i &lt; A.<span class="hljs-built_in">size</span>()) t += A[i];<br>        <span class="hljs-keyword">if</span>(i &lt; B.<span class="hljs-built_in">size</span>()) t += B[i];             <span class="hljs-comment">//t = t + a[i] + b[i]</span><br>        C.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(t) C.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é«˜ç²¾åº¦å‡æ³•"><a href="#é«˜ç²¾åº¦å‡æ³•" class="headerlink" title="é«˜ç²¾åº¦å‡æ³•"></a>é«˜ç²¾åº¦å‡æ³•</h2><h3 id="ç®—æ³•æ€æƒ³-1"><a href="#ç®—æ³•æ€æƒ³-1" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><ol><li>éœ€å…ˆåˆ¤æ–­Aä¸Bçš„å¤§å°ï¼Œå› ä¸ºå¦‚æœAæ¯”Bå°çš„è¯ï¼Œç›¸å‡ä¸ºè´Ÿæ•°ï¼Œåˆ™åº”è½¬æ¢ä¸º-(B-A),è®¾ç½®cmp()å‡½æ•°ï¼Œè¿›è¡Œä¸¤ä¸ªæ•°ä¹‹é—´çš„å¤§å°æ¯”è¾ƒ\</li><li>è®¾ç½®æ¥è‡ªä½ä½çš„å€Ÿä½tï¼Œå…ˆè¿›è¡Œt &#x3D; A[i] - t(æ¯æ¬¡éƒ½è¦å‡å»æ¥è‡ªä¸Šä¸€ä½çš„å€Ÿä½),åˆ¤æ–­æ­¤æ—¶B[i]æ˜¯å¦æœ‰æ•°ï¼Œè‹¥æœ‰çš„è¯åˆ™ï¼Œt &#x3D; t - b[i]ï¼›æ­¤æ—¶æœ¬ä½çš„å€¼ä¸º(t + 10) % 10; å¦‚æœæ­¤æ—¶t &lt; 0,åˆ™è¯´æ˜è¦å‘ä¸Šä»¥ä¸ºå€Ÿ1ï¼Œåˆ™æ­¤æ—¶ä»¤t &#x3D; 1ï¼›å¦åˆ™çš„è¯t &#x3D; 0ï¼Œé‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°éå†å®Œæ•°ç»„Aä¸­æ‰€æœ‰çš„æ•°\</li><li>å¾—åˆ°çš„ç»“æœå¯èƒ½å­˜åœ¨é«˜ä½æœ‰0çš„å‰å¯¼0ç°è±¡ã€‚è¦åšçš„å¤„ç†å°±æ˜¯å°†é«˜ä½ä¸º0çš„æ•°å…¨éƒ¨å¼¹å‡ºï¼Œæœ€å¤šåªä¿ç•™1ä½ä½0.\</li></ol><h2 id="å®Œæ•´ä»£ç -1"><a href="#å®Œæ•´ä»£ç -1" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//C = A - B  å¤§æ•´æ•°å‡æ³•</span><br><span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æœ‰ A&gt;-=B</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,vector&lt;<span class="hljs-type">int</span>&gt; &amp;B)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(A.<span class="hljs-built_in">size</span>() != B.<span class="hljs-built_in">size</span>()) <span class="hljs-keyword">return</span> A.<span class="hljs-built_in">size</span>() &gt; B.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = A.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span> ;i--)<br>        <span class="hljs-keyword">if</span>(A[i] != B[i])<br>            <span class="hljs-keyword">return</span> A[i] &gt; B[i];<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sub</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,vector&lt;<span class="hljs-type">int</span>&gt; &amp;B)</span></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; C;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,t = <span class="hljs-number">0</span>;i &lt; A.<span class="hljs-built_in">size</span>();i ++)&#123;<br>        t = A[i] - t;<br>        <span class="hljs-keyword">if</span>(i &lt; B.<span class="hljs-built_in">size</span>()) t -= B[i];             <span class="hljs-comment">//t = t + a[i] + b[i]</span><br>        C.<span class="hljs-built_in">push_back</span>((t + <span class="hljs-number">10</span>) % <span class="hljs-number">10</span>);<br>        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">0</span>)  t = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> t = <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(C.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; C.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) C.<span class="hljs-built_in">pop_back</span>();  <span class="hljs-comment">//å»æ‰å‰å¯¼0</span><br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string a,b;<br>    vector&lt;<span class="hljs-type">int</span>&gt; A,B;<br>    cin &gt;&gt; a &gt;&gt; b;  <span class="hljs-comment">//a = &quot;123456&quot;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = a.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<span class="hljs-comment">//A = [6,5,4,3,2,1,]</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = b.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --) B.<span class="hljs-built_in">push_back</span>(b[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">cmp</span>(A,B))&#123;<br>        <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">sub</span>(A,B);<span class="hljs-comment">//è‡ªåŠ¨è¿”å›å¯¹åº”çš„ç±»å‹ä¹Ÿå°±æ˜¯vector&lt;int&gt;</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i--) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,C[i]);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">sub</span>(B,A);<span class="hljs-comment">//è‡ªåŠ¨è¿”å›å¯¹åº”çš„ç±»å‹ä¹Ÿå°±æ˜¯vector&lt;int&gt;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i--) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,C[i]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//C = A - B  å¤§æ•´æ•°å‡æ³•</span><br><span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æœ‰ A&gt;-=B</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,vector&lt;<span class="hljs-type">int</span>&gt; &amp;B)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(A.<span class="hljs-built_in">size</span>() != B.<span class="hljs-built_in">size</span>()) <span class="hljs-keyword">return</span> A.<span class="hljs-built_in">size</span>() &gt; B.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = A.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span> ;i--)<br>        <span class="hljs-keyword">if</span>(A[i] != B[i])<br>            <span class="hljs-keyword">return</span> A[i] &gt; B[i];<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sub</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,vector&lt;<span class="hljs-type">int</span>&gt; &amp;B)</span></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; C;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,t = <span class="hljs-number">0</span>;i &lt; A.<span class="hljs-built_in">size</span>();i ++)&#123;<br>        t = A[i] - t;<br>        <span class="hljs-keyword">if</span>(i &lt; B.<span class="hljs-built_in">size</span>()) t -= B[i];             <span class="hljs-comment">//t = t + a[i] + b[i]</span><br>        C.<span class="hljs-built_in">push_back</span>((t + <span class="hljs-number">10</span>) % <span class="hljs-number">10</span>);<br>        <span class="hljs-keyword">if</span>(t &lt; <span class="hljs-number">0</span>)  t = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> t = <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(C.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; C.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) C.<span class="hljs-built_in">pop_back</span>();  <span class="hljs-comment">//å»æ‰å‰å¯¼0</span><br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é«˜ç²¾åº¦ä¹˜æ³•"><a href="#é«˜ç²¾åº¦ä¹˜æ³•" class="headerlink" title="é«˜ç²¾åº¦ä¹˜æ³•"></a>é«˜ç²¾åº¦ä¹˜æ³•</h2><h3 id="ç®—æ³•æ€æƒ³-2"><a href="#ç®—æ³•æ€æƒ³-2" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><ol><li>ç®—æ³•çš„ä¸»è¦æ€æƒ³å°±æ˜¯å°†A[i]ä¸­æ¯ä½æ•°éƒ½ä¸bç›¸ä¹˜ï¼Œåˆ¤æ–­å…¶ä½™æ•°ï¼ˆå°±æ˜¯C[i]ï¼‰,è€Œå•†å°±æ˜¯è¿›ä½ï¼Œå¤šæ¬¡å¾ªç¯å³å¯æ±‚å‡ºç»“æœ\</li><li>è®¾ç½®è¿›ä½tï¼Œå¦‚æœæ­¤æ—¶A[i]ä¸­è¿˜æœ‰æ•°çš„è¯ åˆ™t &#x3D; t + A[i] * b,C[i] å°±ç­‰äº t % 10ï¼Œäº§ç”Ÿçš„ä¸‹ä¸€ä½è¿›t &#x3D; t &#x2F; 10ï¼›é‡å¤ä¸Šè¯‰æ“ä½œï¼Œå¾ªç¯çš„æ¡ä»¶æ˜¯A[i]æ²¡æœ‰éå†å®Œï¼Œæˆ–è€…tè¿˜å­˜åœ¨ä¸ä¸º0\</li></ol><h2 id="å®Œæ•´ä»£ç -2"><a href="#å®Œæ•´ä»£ç -2" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//C = A * b  å¤§æ•´æ•°ä¹˜æ³•</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">mul</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,<span class="hljs-type">int</span> b)</span></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; C;<br>    <span class="hljs-type">int</span> t = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; A.<span class="hljs-built_in">size</span>() || t;i ++)&#123;<br>        <span class="hljs-keyword">if</span>(i &lt; A.<span class="hljs-built_in">size</span>()) t += A[i] * b;<br>        C.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string a;<br>    <span class="hljs-type">int</span> b;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    vector&lt;<span class="hljs-type">int</span>&gt; A;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = a.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;i &gt;=<span class="hljs-number">0</span>;i --) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">mul</span>(A, b);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,C[i]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ¨¡æ¿ä»£ç -1"><a href="#æ¨¡æ¿ä»£ç -1" class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//C = A * b  å¤§æ•´æ•°ä¹˜æ³•</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">mul</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,<span class="hljs-type">int</span> b)</span></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; C;<br>    <span class="hljs-type">int</span> t = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; A.<span class="hljs-built_in">size</span>() || t;i ++)&#123;<br>        <span class="hljs-keyword">if</span>(i &lt; A.<span class="hljs-built_in">size</span>()) t += A[i] * b;<br>        C.<span class="hljs-built_in">push_back</span>(t % <span class="hljs-number">10</span>);<br>        t /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é«˜ç²¾åº¦é™¤æ³•"><a href="#é«˜ç²¾åº¦é™¤æ³•" class="headerlink" title="é«˜ç²¾åº¦é™¤æ³•"></a>é«˜ç²¾åº¦é™¤æ³•</h2><h3 id="ç®—æ³•æ€æƒ³-3"><a href="#ç®—æ³•æ€æƒ³-3" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><ol><li>é™¤æ³•ä¸å‰é¢ä¸‰ç§ç®—æ³•ä¸åŒï¼Œé™¤æ³•æ˜¯ä»æœ€é«˜ä½å¼€å§‹è¿›è¡Œè®¡ç®—çš„ï¼Œæ‰€ä»¥åœ¨å¾ªç¯çš„æ¡ä»¶iæ˜¯ä»A.size() - 1å¼€å§‹ã€‚\</li><li>rä¸ºä½™æ•°ï¼Œè¿›å…¥å¾ªç¯æ—¶r &#x3D; r*10 +A[i],åˆ™æ­¤æ—¶çš„å•†ä¸ºr &#x2F; bä¹Ÿå°±æ˜¯C,åˆ™æ­¤æ—¶çš„ä½™æ•°ä¸ºr &#x3D; r % b.å¾ªç¯ä¸Šè¿°æ“ä½œç›´åˆ°éå†å®ŒA[]ä¸­æ‰€æœ‰çš„æ•°ã€‚\</li><li>å› ä¸ºæ­¤æ—¶C[]ä¸­çš„æ•°æ˜¯ç”±é«˜ä½åˆ°åœ°ä½çš„ï¼Œæ‰€ä»¥è¦è°ƒç”¨reverse()æ–¹æ³•ï¼Œå°†å…¶å€’ç½®ï¼Œä»¥ä¿è¯å…¶è¾“å‡ºæ–¹å¼ä¸å‰é¢ä¸‰ç§ç®—æ³•ç›¸åŒ\</li><li>åŒæ—¶è¯¥ç®—æ³•ä¹Ÿå­˜åœ¨å‰å¯¼0çš„é—®é¢˜ï¼Œä¸å‰é¢ç®—æ³•çš„å¤„ç†ç›¸åŒã€‚\</li></ol><h2 id="å®Œæ•´ä»£ç -3"><a href="#å®Œæ•´ä»£ç -3" class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// A / b å•†æ˜¯cï¼Œä½™æ•°æ˜¯r</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">div</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,<span class="hljs-type">int</span> b,<span class="hljs-type">int</span> &amp;r)</span></span>&#123;           <span class="hljs-comment">//ræ˜¯å¼•ç”¨</span><br>    vector&lt;<span class="hljs-type">int</span>&gt; C;          <span class="hljs-comment">//å•†</span><br>    r = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = A.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --)&#123;<br>        r = r * <span class="hljs-number">10</span> + A[i];<br>        C.<span class="hljs-built_in">push_back</span>(r / b);<br>        r %= b;<br>    &#125;<br>    <span class="hljs-built_in">reverse</span>(C.<span class="hljs-built_in">begin</span>(),C.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-keyword">while</span>(C.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; C.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) C.<span class="hljs-built_in">pop_back</span>();<br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string a;<br>    <span class="hljs-type">int</span> b;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    vector&lt;<span class="hljs-type">int</span>&gt; A;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = a.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;i &gt;=<span class="hljs-number">0</span>;i --) A.<span class="hljs-built_in">push_back</span>(a[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>    <span class="hljs-type">int</span> r;<br>    <span class="hljs-keyword">auto</span> C = <span class="hljs-built_in">div</span>(A, b, r);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = C.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,C[i]);<br>    cout &lt;&lt; endl;<br>    cout &lt;&lt; r &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ¨¡æ¿ä»£ç -2"><a href="#æ¨¡æ¿ä»£ç -2" class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// A / b å•†æ˜¯cï¼Œä½™æ•°æ˜¯r</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">div</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;A,<span class="hljs-type">int</span> b,<span class="hljs-type">int</span> &amp;r)</span></span>&#123;           <span class="hljs-comment">//ræ˜¯å¼•ç”¨</span><br>    vector&lt;<span class="hljs-type">int</span>&gt; C;          <span class="hljs-comment">//å•†</span><br>    r = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = A.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;i &gt;= <span class="hljs-number">0</span>;i --)&#123;<br>        r = r * <span class="hljs-number">10</span> + A[i];<br>        C.<span class="hljs-built_in">push_back</span>(r / b);<br>        r %= b;<br>    &#125;<br>    <span class="hljs-built_in">reverse</span>(C.<span class="hljs-built_in">begin</span>(),C.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-keyword">while</span>(C.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">1</span> &amp;&amp; C.<span class="hljs-built_in">back</span>() == <span class="hljs-number">0</span>) C.<span class="hljs-built_in">pop_back</span>();<br>    <span class="hljs-keyword">return</span> C;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç¬¬äºŒç« JSPè¯­æ³•</title>
    <link href="/2023/04/20/2-Jsp/"/>
    <url>/2023/04/20/2-Jsp/</url>
    
    <content type="html"><![CDATA[<h1 id="JSPè¯­æ³•"><a href="#JSPè¯­æ³•" class="headerlink" title="JSPè¯­æ³•"></a><font color = pink size = 8>JSPè¯­æ³•</font></h1><h2 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a><font color = pink size = 7>ä¸»è¦å†…å®¹</font></h2><p> <font color = orange size = 6>ä¸€ï¼šJSPé¡µé¢çš„åŸºæœ¬ç»“æ„<br>äºŒï¼šå£°æ˜å˜é‡å’Œå®šä¹‰æ–¹æ³•<br>ä¸‰ï¼šJavaç¨‹åºç‰‡<br> å››ï¼šJavaè¡¨è¾¾å¼<br>äº”ï¼šJSPä¸­çš„æ³¨é‡Š<br>å…­ï¼šJSPæŒ‡ä»¤æ ‡è®°<br>ä¸ƒï¼šJSPåŠ¨ä½œæ ‡è®°</font></p><h3 id="ä¸€ï¼šJSPé¡µé¢çš„åŸºæœ¬ç»“æ„"><a href="#ä¸€ï¼šJSPé¡µé¢çš„åŸºæœ¬ç»“æ„" class="headerlink" title="ä¸€ï¼šJSPé¡µé¢çš„åŸºæœ¬ç»“æ„"></a><font color = 3fccca size = 5>ä¸€ï¼šJSPé¡µé¢çš„åŸºæœ¬ç»“æ„</font></h3><h4 id="1-1ä¸€ä¸ªJSPé¡µé¢å¯ç”±5ä¸­å…ƒç´ ç»„åˆè€Œæˆï¼š"><a href="#1-1ä¸€ä¸ªJSPé¡µé¢å¯ç”±5ä¸­å…ƒç´ ç»„åˆè€Œæˆï¼š" class="headerlink" title="1.1ä¸€ä¸ªJSPé¡µé¢å¯ç”±5ä¸­å…ƒç´ ç»„åˆè€Œæˆï¼š"></a><font color = 81cc3f size = 4>1.1ä¸€ä¸ªJSPé¡µé¢å¯ç”±5ä¸­å…ƒç´ ç»„åˆè€Œæˆï¼š</font></h4><p>â‘ æ™®é€šçš„HTMLæ ‡è®°å’ŒJavaScriptæ ‡è®°<br>â‘¡JSPæ ‡è®°ï¼Œå¦‚æŒ‡ä»¤æ ‡è®°ã€åŠ¨ä½œæ ‡è®°<br>â‘¢å˜é‡å’Œæ–¹æ³•çš„å£°æ˜<br>â‘£Javaç¨‹åºç‰‡<br>â‘¤Javaè¡¨è¾¾å¼<br><strong>1.2åŸç†</strong><br>â‘ ä¸€ä¸ªJSPé¡µé¢è¢«ç¬¬ä¸€æ¬¡è¯·æ±‚æ‰§è¡Œæ—¶ï¼ŒTomcatæœåŠ¡å™¨é¦–å…ˆå°†JSPé¡µé¢æ–‡ä»¶è½¬è¯‘æˆä¸€ä¸ªJavaæ–‡ä»¶ï¼Œå†å°†è¿™ä¸ªJavaæ–‡ä»¶ç¼–è¯‘ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åé€šè¿‡æ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶å“åº”ç”¨æˆ·çš„è¯·æ±‚ã€‚<br>â‘¡å½“å¤šä¸ªç”¨æˆ·è¯·æ±‚ä¸€ä¸ªJSPé¡µé¢æ—¶ï¼ŒTomcatæœåŠ¡å™¨ä¸ºæ¯ä¸ªç”¨æˆ·å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£æ‰§è¡Œå¸¸é©»å†…å­˜çš„å­—èŠ‚ç æ–‡ä»¶æ¥å“åº”ç›¸åº”ç”¨æˆ·çš„è¯·æ±‚ã€‚è¿™äº›çº¿ç¨‹ç”±TomcatæœåŠ¡å™¨æ¥ç®¡ç†ï¼Œå°†CPUçš„ä½¿ç”¨æƒåœ¨å„ä¸ªçº¿ç¨‹ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œä»¥ä¿è¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰æœºä¼šæ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶ã€‚</p><h3 id="äºŒï¼šå£°æ˜å˜é‡å’Œå®šä¹‰æ–¹æ³•"><a href="#äºŒï¼šå£°æ˜å˜é‡å’Œå®šä¹‰æ–¹æ³•" class="headerlink" title="äºŒï¼šå£°æ˜å˜é‡å’Œå®šä¹‰æ–¹æ³•"></a><font color = 3fccca size = 5><strong>äºŒï¼šå£°æ˜å˜é‡å’Œå®šä¹‰æ–¹æ³•</strong></font></h3><h4 id="2-1å£°æ˜å˜é‡"><a href="#2-1å£°æ˜å˜é‡" class="headerlink" title="2.1å£°æ˜å˜é‡ "></a><font color = 81cc3f size = 4>2.1å£°æ˜å˜é‡ </font></h4><p>â‘ &lt;%! â€¦.%&gt; **(&lt;%! ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼)**  <br>åœ¨&lt;%!å’Œ%&gt;æ ‡è®°ç¬¦å·ä¹‹é—´å£°æ˜å˜é‡ï¼Œå®šä¹‰æ–¹æ³•ä»¥åŠå®šä¹‰ç±»ã€‚&lt;%!å’Œ%&gt;æ ‡è®°ç¬¦å·çš„å†…å®¹ä¹ æƒ¯ä¸Šæ”¾åœ¨JSP é¡µé¢æŒ‡ä»¤ä¹‹åï¼Œ&lt;HTML&gt;ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥å†™åœ¨&lt;HTML&gt;ä¸&lt;&#x2F;HTML&gt;ä¹‹é—´ã€‚<br>&lt;%!å’Œ%&gt;ä¹‹é—´å£°æ˜çš„å˜é‡åœ¨<font color=red><strong>æ•´ä¸ªJSPé¡µé¢å†…éƒ½æœ‰æ•ˆ</strong></font>ï¼Œä¸æ ‡è®°ç¬¦åœ¨JSPé¡µé¢ä¸­æ‰€åœ¨çš„ä¹¦å†™ä½ç½®æ— å…³ï¼Œä½†ä¹ æƒ¯ä¸ŠæŠŠ&lt;%!ã€%&gt; æ ‡è®°ç¬¦å†™åœ¨JSPé¡µé¢çš„å‰é¢ã€‚</p><h4 id="2-2å®šä¹‰æ–¹æ³•"><a href="#2-2å®šä¹‰æ–¹æ³•" class="headerlink" title="2.2å®šä¹‰æ–¹æ³• "></a><font color = 81cc3f size = 4>2.2å®šä¹‰æ–¹æ³• </font></h4><p>å¯¹äºåœ¨â€œ&lt;%!â€å’Œâ€œ%&gt;â€æ ‡è®°ç¬¦å·ä¹‹é—´å®šä¹‰æ–¹æ³•ï¼Œå¯ä»¥åœ¨Javaç¨‹åºç‰‡ä¸­è°ƒç”¨è¯¥æ–¹æ³•ã€‚<font color = ef3498>æ–¹æ³•å†…å£°æ˜çš„å˜é‡åªåœ¨è¯¥æ–¹æ³•å†…æœ‰æ•ˆï¼Œå½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œæ–¹æ³•å†…å£°æ˜çš„å˜é‡è¢«åˆ†é…å†…å­˜ï¼Œæ–¹æ³•è¢«è°ƒç”¨å®Œæ¯•å³å¯é‡Šæ”¾è¿™äº›å˜é‡æ‰€å çš„å†…å­˜ã€‚</font>å¯ä»¥åœ¨â€œ&lt;%!â€å’Œâ€œ%&gt;â€æ ‡è®°ç¬¦å·ä¹‹é—´<font color=red><strong>å®šä¹‰ç±»</strong></font>ï¼Œå¯ä»¥åœ¨Javaç¨‹åºç‰‡ä¸­ä½¿ç”¨è¯¥ç±»åˆ›å»ºå¯¹è±¡ã€‚<br><strong>æ³¨æ„</strong> <br><font color = ef3498><br>1.TomcatæœåŠ¡å™¨å°†JSPé¡µé¢è½¬è¯‘æˆJava æ–‡ä»¶æ—¶ï¼Œå°†â€œ&lt;%!â€ã€â€œ%&gt;â€ æ ‡è®°ç¬¦ä¹‹é—´å£°æ˜çš„å˜é‡ä½œä¸ºç±»çš„æˆå‘˜å˜é‡ï¼Œè¿™äº›å˜é‡å æœ‰çš„å†…å­˜ç©ºé—´ç›´åˆ°TomcatæœåŠ¡å™¨å…³é—­æ‰é‡Šæ”¾<br>2.å½“å¤šä¸ªç”¨æˆ·è¯·æ±‚ä¸€ä¸ªJSPé¡µé¢æ—¶ï¼ŒTomcatæœåŠ¡å™¨ä¸ºæ¯ä¸ªç”¨æˆ·å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™äº›çº¿ç¨‹ç”±TomcatæœåŠ¡å™¨æ¥ç®¡ç†ï¼Œè¿™äº›çº¿ç¨‹å…±äº«JSPé¡µé¢çš„æˆå‘˜å˜é‡ï¼Œå› æ­¤ä»»ä½•ä¸€ä¸ªç”¨æˆ·å¯¹JSPé¡µé¢æˆå‘˜å˜é‡æ“ä½œçš„ç»“æœï¼Œéƒ½ä¼šå½±å“åˆ°å…¶ä»–ç”¨æˆ·ã€‚</font><br><font color = 41ec52 size = 4>ä»£ç ä¸¾ä¾‹</font></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ <span class="hljs-type">page</span> <span class="hljs-variable">contentType</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;text/html&quot;</span>%&gt;<br>&lt;%@ page pageEncoding=<span class="hljs-string">&quot;utf-8&quot;</span>%&gt;<br>&lt;HTML&gt;&lt;body bgcolor=#ffccff&gt;<br>&lt;p style=<span class="hljs-string">&quot;font-family:å®‹ä½“,font-size:36;color:blue&quot;</span>&gt;<br>&lt;%! <br>    <span class="hljs-type">double</span> <span class="hljs-title function_">multi</span><span class="hljs-params">(<span class="hljs-type">double</span> x,<span class="hljs-type">double</span> y)</span>&#123;  <span class="hljs-comment">//å®šä¹‰æ–¹æ³•</span><br>        <span class="hljs-keyword">return</span> x*y;<br>    &#125;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span>&#123;<br>        <span class="hljs-type">double</span> r;<br>        <span class="hljs-type">double</span> <span class="hljs-title function_">getArea</span><span class="hljs-params">()</span>&#123;             <span class="hljs-comment">//å®šä¹‰ç±»</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">3.14</span>*r*r;<br>        &#125;<br>    &#125;<br>%&gt; <br>&lt;%                                   <span class="hljs-comment">//Javaç¨‹åºç‰‡</span><br>    <span class="hljs-type">double</span> x=<span class="hljs-number">8.0</span>;<br>    <span class="hljs-type">double</span> y=<span class="hljs-number">12.0</span>;<br>    out.print(multi(x,y));           <span class="hljs-comment">//è°ƒç”¨æ–¹æ³•</span><br>    Circle circle=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Circle</span>();<br>    circle.r=<span class="hljs-number">3.0</span>;                    <br>    out.print(circle.getArea());     <span class="hljs-comment">//è°ƒç”¨ç±»</span><br>%&gt;<br>&lt;/p&gt;&lt;/body&gt;&lt;/HTML&gt;<br></code></pre></td></tr></table></figure><h3 id="ä¸‰ï¼šJavaç¨‹åºç‰‡"><a href="#ä¸‰ï¼šJavaç¨‹åºç‰‡" class="headerlink" title="ä¸‰ï¼šJavaç¨‹åºç‰‡"></a><font color = 3fccca size = 5><strong>ä¸‰ï¼šJavaç¨‹åºç‰‡</strong></font></h3><h4 id="3-1æ’å…¥ç¨‹åºç‰‡"><a href="#3-1æ’å…¥ç¨‹åºç‰‡" class="headerlink" title="3.1æ’å…¥ç¨‹åºç‰‡"></a><font color = 81cc3f size = 4>3.1æ’å…¥ç¨‹åºç‰‡</font></h4><p>å¯ä»¥åœ¨&lt;%å’Œ%&gt;ä¹‹é—´æ’å…¥Java ç¨‹åºç‰‡ã€‚</p><h4 id="3-2å±€éƒ¨å˜é‡"><a href="#3-2å±€éƒ¨å˜é‡" class="headerlink" title="3.2å±€éƒ¨å˜é‡ "></a><font color = 81cc3f size = 4>3.2å±€éƒ¨å˜é‡ </font></h4><p>ä¸€ä¸ªJSPé¡µé¢å¯ä»¥æœ‰è®¸å¤šç¨‹åºç‰‡ï¼Œè¿™äº›ç¨‹åºç‰‡å°†è¢«TomcatæœåŠ¡å™¨æŒ‰é¡ºåºæ‰§è¡Œã€‚åœ¨ç¨‹åºç‰‡ä¸­å£°æ˜çš„å˜é‡ç§°ä½œJSPé¡µé¢çš„å±€éƒ¨å˜é‡ã€‚å±€éƒ¨å˜é‡çš„æœ‰æ•ˆèŒƒå›´ä¸å…¶å£°æ˜çš„ä½ç½®æœ‰å…³ï¼Œå³å±€éƒ¨å˜é‡åœ¨JSPé¡µé¢åç»§çš„æ‰€æœ‰ç¨‹åºç‰‡ä»¥åŠè¡¨è¾¾å¼éƒ¨åˆ†å†…éƒ½æœ‰æ•ˆã€‚</p><h4 id="3-3å¤„ç†ç¨‹åºç‰‡"><a href="#3-3å¤„ç†ç¨‹åºç‰‡" class="headerlink" title="3.3å¤„ç†ç¨‹åºç‰‡ "></a><font color = 81cc3f size = 4>3.3å¤„ç†ç¨‹åºç‰‡ </font></h4><p>å½“å¤šä¸ªç”¨æˆ·è¯·æ±‚ä¸€ä¸ªJSPé¡µé¢æ—¶ï¼ŒTomcatæœåŠ¡å™¨ä¸ºæ¯ä¸ªç”¨æˆ·å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹è´Ÿè´£æ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶å“åº”ç”¨æˆ·çš„è¯·æ±‚ã€‚TomcatæœåŠ¡å™¨ä½¿ç”¨å¤šçº¿ç¨‹æ¥å¤„ç†ç¨‹åºç‰‡.</p><h4 id="3-4æ“ä½œJSPé¡µé¢çš„æˆå‘˜å˜é‡"><a href="#3-4æ“ä½œJSPé¡µé¢çš„æˆå‘˜å˜é‡" class="headerlink" title="3.4æ“ä½œJSPé¡µé¢çš„æˆå‘˜å˜é‡ "></a><font color = 81cc3f size = 4>3.4æ“ä½œJSPé¡µé¢çš„æˆå‘˜å˜é‡ </font></h4><p>Java ç¨‹åºç‰‡ä¸­æ“ä½œçš„æˆå‘˜å˜é‡æ˜¯å„ä¸ªçº¿ç¨‹ï¼ˆç”¨æˆ·ï¼‰å…±äº«çš„å˜é‡ï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹å¯¹JSPé¡µé¢æˆå‘˜å˜é‡æ“ä½œçš„ç»“æœï¼Œéƒ½ä¼šå½±å“åˆ°å…¶ä»–çº¿ç¨‹ã€‚</p><h4 id="3-5æ“è°ƒç”¨JSPé¡µé¢çš„æ–¹æ³•"><a href="#3-5æ“è°ƒç”¨JSPé¡µé¢çš„æ–¹æ³•" class="headerlink" title="3.5æ“è°ƒç”¨JSPé¡µé¢çš„æ–¹æ³• "></a><font color = 81cc3f size = 4>3.5æ“è°ƒç”¨JSPé¡µé¢çš„æ–¹æ³• </font></h4><p>Java ç¨‹åºç‰‡ä¸­å¯ä»¥å‡ºç°æ–¹æ³•è°ƒç”¨è¯­å¥ï¼Œæ‰€è°ƒç”¨çš„æ–¹æ³•å¿…é¡»æ˜¯JSPé¡µé¢æ›¾å®šä¹‰çš„æ–¹æ³•ã€‚</p><h4 id="3-6æ“ä½œå±€éƒ¨å˜é‡"><a href="#3-6æ“ä½œå±€éƒ¨å˜é‡" class="headerlink" title="3.6æ“ä½œå±€éƒ¨å˜é‡ "></a><font color = 81cc3f size = 4>3.6æ“ä½œå±€éƒ¨å˜é‡ </font></h4><p>å½“ä¸€ä¸ªçº¿ç¨‹äº«ç”¨CPUèµ„æºæ—¶ï¼ŒTomcatæœåŠ¡å™¨è®©è¯¥çº¿ç¨‹æ‰§è¡ŒJavaç¨‹åºç‰‡ï¼Œè¿™æ—¶ï¼ŒJavaç¨‹åºç‰‡ä¸­çš„å±€éƒ¨å˜é‡è¢«åˆ†é…å†…å­˜ç©ºé—´ï¼Œå½“è½®åˆ°å¦ä¸€ä¸ªçº¿ç¨‹äº«ç”¨CPUèµ„æºæ—¶ï¼ŒTomcatæœåŠ¡å™¨è®©è¯¥çº¿ç¨‹å†æ¬¡æ‰§è¡ŒJavaç¨‹åºç‰‡ï¼Œé‚£ä¹ˆï¼ŒJavaç¨‹åºç‰‡ä¸­çš„å±€éƒ¨å˜é‡ä¼šå†æ¬¡åˆ†é…å†…å­˜ç©ºé—´ã€‚ä¹Ÿå°±æ˜¯è¯´Javaç¨‹åºç‰‡å·²ç»è¢«æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œåˆ†åˆ«è¿è¡Œåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­ï¼Œå³è¿è¡Œåœ¨ä¸åŒçš„æ—¶é—´ç‰‡å†…ã€‚è¿è¡Œåœ¨ä¸åŒçº¿ç¨‹ä¸­çš„Javaç¨‹åºç‰‡çš„å±€éƒ¨å˜é‡äº’ä¸å¹²æ‰°ï¼Œå³ä¸€ä¸ªç”¨æˆ·æ”¹å˜Javaç¨‹åºç‰‡ä¸­çš„å±€éƒ¨å˜é‡çš„å€¼ä¸ä¼šå½±å“å…¶ä»–ç”¨æˆ·çš„Javaç¨‹åºç‰‡ä¸­çš„å±€éƒ¨å˜é‡ã€‚å½“ä¸€ä¸ªçº¿ç¨‹å°†Javaç¨‹åºç‰‡æ‰§è¡Œå®Œæ¯•ï¼Œè¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­çš„Javaç¨‹åºç‰‡çš„å±€éƒ¨å˜é‡é‡Šæ”¾æ‰€å çš„å†…å­˜ã€‚</p><h3 id="å››ï¼šJavaè¡¨è¾¾å¼"><a href="#å››ï¼šJavaè¡¨è¾¾å¼" class="headerlink" title="å››ï¼šJavaè¡¨è¾¾å¼"></a><font color = 3fccca size = 5><strong>å››ï¼šJavaè¡¨è¾¾å¼</strong></font></h3><h4 id="4-1è¡¨è¾¾å¼"><a href="#4-1è¡¨è¾¾å¼" class="headerlink" title="4.1è¡¨è¾¾å¼"></a><font color = 81cc3f size = 4>4.1è¡¨è¾¾å¼</font></h4><p>å¯ä»¥åœ¨&lt;%&#x3D;å’Œ%&gt;ä¹‹é—´æ’å…¥ä¸€ä¸ªå¯æ±‚å€¼çš„è¡¨è¾¾å¼ï¼ˆæ³¨æ„ï¼šä¸å¯æ’å…¥è¯­å¥ï¼Œ&lt;%&#x3D;æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¬¦å·ï¼Œâ€œ&lt;%â€å’Œâ€œ&#x3D;â€ä¹‹é—´ä¸è¦æœ‰ç©ºæ ¼ï¼‰ã€‚è¡¨è¾¾å¼çš„å€¼ç”±æœåŠ¡å™¨è´Ÿè´£è®¡ç®—ï¼Œå¹¶å°†è®¡ç®—ç»“æœç”¨å­—ç¬¦ä¸²å½¢å¼å‘é€åˆ°ç”¨æˆ·ç«¯æ˜¾ç¤ºã€‚<br>Javaè¡¨è¾¾å¼å¯ä»¥å†™åœ¨&lt;HTML&gt;ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥å†™åœ¨&lt;HTML&gt;å’Œ&lt;&#x2F;HTML&gt;ä¹‹é—´æˆ–&lt;&#x2F;HTML&gt;ä¹‹åã€‚</p><h4 id="4-2æ³¨æ„äº‹é¡¹"><a href="#4-2æ³¨æ„äº‹é¡¹" class="headerlink" title=" 4.2æ³¨æ„äº‹é¡¹"></a><font color = 81cc3f size = 4> 4.2æ³¨æ„äº‹é¡¹</font></h4><p>åœ¨JSPé¡µé¢ä¸­ï¼Œè¡¨è¾¾å¼çš„å€¼è¢«è¡¨ç¤ºæˆä¸€ä¸ªå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œå³TomcatæœåŠ¡å™¨å°†è¡¨è¾¾å¼çš„ç»“æœè½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åå‘é€ç»™ç”¨æˆ·çš„æµè§ˆå™¨ã€‚å› æ­¤ï¼Œåœ¨ç¼–å†™JSPé¡µé¢æ—¶ï¼Œè¦æŠŠJavaè¡¨è¾¾å¼æŒ‰æ™®é€šçš„æ–‡æœ¬æ¥ä½¿ç”¨ã€‚</p><h3 id="äº”ï¼šJSPä¸­çš„æ³¨é‡Š"><a href="#äº”ï¼šJSPä¸­çš„æ³¨é‡Š" class="headerlink" title="äº”ï¼šJSPä¸­çš„æ³¨é‡Š"></a><font color = 3fccca size = 5><strong>äº”ï¼šJSPä¸­çš„æ³¨é‡Š</strong></font></h3><h4 id="5-1HTMLæ³¨é‡Š"><a href="#5-1HTMLæ³¨é‡Š" class="headerlink" title="5.1HTMLæ³¨é‡Š"></a><font color = 81cc3f size = 4>5.1HTMLæ³¨é‡Š</font></h4><p>&lt;!â€“    æ³¨é‡Šå†…å®¹     â€“&gt;<br>JSPå¼•æ“æŠŠHTMLæ³¨é‡Šäº¤ç»™ç”¨æˆ·ï¼Œå› æ­¤ç”¨æˆ·é€šè¿‡æµè§ˆå™¨æŸ¥çœ‹JSPé¡µé¢çš„æºæ–‡ä»¶æ—¶ï¼Œèƒ½å¤Ÿçœ‹åˆ°HTMLæ³¨é‡Šã€‚</p><h4 id="5-2JSPæ³¨é‡Š"><a href="#5-2JSPæ³¨é‡Š" class="headerlink" title="5.2JSPæ³¨é‡Š"></a><font color = 81cc3f size = 4>5.2JSPæ³¨é‡Š</font></h4><p>åœ¨æ ‡è®°ç¬¦å·â€œ&lt;%â€“â€å’Œâ€œâ€“%&gt;â€ä¹‹é—´åŠ å…¥æ³¨é‡Šå†…å®¹ï¼š<br>&lt;%â€“  æ³¨é‡Šå†…å®¹  â€“%&gt;  <br>TomcatæœåŠ¡å™¨å¿½ç•¥JSPæ³¨é‡Šï¼Œå³åœ¨ç¼–è¯‘JSPé¡µé¢æ—¶å¿½ç•¥JSPæ³¨é‡Šã€‚</p><h3 id="å…­ï¼šJSPæŒ‡ä»¤æ ‡è®°"><a href="#å…­ï¼šJSPæŒ‡ä»¤æ ‡è®°" class="headerlink" title="å…­ï¼šJSPæŒ‡ä»¤æ ‡è®°"></a><font color = 3fccca size = 5><strong>å…­ï¼šJSPæŒ‡ä»¤æ ‡è®°</strong></font></h3><h4 id="6-1pageæŒ‡ä»¤æ ‡è®°"><a href="#6-1pageæŒ‡ä»¤æ ‡è®°" class="headerlink" title="6.1pageæŒ‡ä»¤æ ‡è®°"></a><font color = 81cc3f size = 4>6.1pageæŒ‡ä»¤æ ‡è®°</font></h4><p>page æŒ‡ä»¤ç”¨æ¥å®šä¹‰æ•´ä¸ªJSPé¡µé¢çš„ä¸€äº›å±æ€§å’Œè¿™äº›å±æ€§çš„å€¼ã€‚<br>&lt;%@ page   å±æ€§1&#x3D;â€å±æ€§1çš„å€¼â€  %&gt;<br>&lt;%@ page   å±æ€§2&#x3D;â€å±æ€§2çš„å€¼â€  %&gt;<br>â€¦ â€¦<br>&lt;%@ page   å±æ€§n&#x3D;â€å±æ€§nçš„å€¼â€  %&gt;<br>ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªpageæŒ‡ä»¤æŒ‡å®šå¤šä¸ªå±æ€§çš„å€¼ï¼Œå¦‚ï¼š<br>&lt;%@ page   å±æ€§1&#x3D;â€å±æ€§1çš„å€¼â€  å±æ€§2&#x3D; â€œå±æ€§2çš„å€¼â€  â€¦â€¦%&gt;<br>page æŒ‡ä»¤æ ‡è®°å¯ä»¥æŒ‡å®šå±æ€§ï¼šcontentTypeã€importã€languageã€sessionã€bufferã€auotFlush ã€isThreadSafeã€pageEncoding ã€informçš„å€¼</p><h4 id="6-2contentTypeå±æ€§"><a href="#6-2contentTypeå±æ€§" class="headerlink" title="6.2contentTypeå±æ€§"></a><font color = 81cc3f size = 4>6.2contentTypeå±æ€§</h4></font> JSPé¡µé¢è®¾ç½®å“åº”çš„MIMEï¼ˆMultipurpose Internet Mail Extentionï¼‰ç±»å‹ï¼Œå³è®¾ç½®contentType å±æ€§çš„å€¼ã€‚contentTypeå±æ€§å€¼ç¡®å®šJSPé¡µé¢å“åº”çš„MIMEç±»å‹ã€‚å±æ€§å€¼çš„ä¸€èˆ¬å½¢å¼æ˜¯ï¼š "MIMEç±»å‹"<p>ä¾‹å¦‚ï¼š&lt;%@ page contentType&#x3D;â€text&#x2F;html â€œ %&gt;<br>æµè§ˆå™¨å¯ç”¨HTMLè§£æå™¨æ¥è§£ææ‰§è¡Œæ‰€æ¥æ”¶åˆ°çš„ä¿¡æ¯ã€‚<br>å¦‚æœå¸Œæœ›ç”¨æˆ·çš„æµè§ˆå™¨å¯ç”¨æœ¬åœ°çš„MS-Wordåº”ç”¨ç¨‹åºæ¥è§£ææ‰§è¡Œæ”¶åˆ°çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥å¦‚ä¸‹è®¾ç½®contentTypeå±æ€§çš„å€¼ï¼š&lt;%@ page contentType&#x3D;â€application&#x2F;mswordâ€ %&gt;</p><h4 id="6-3pageEncodingå±æ€§"><a href="#6-3pageEncodingå±æ€§" class="headerlink" title="6.3pageEncodingå±æ€§"></a><font color = 81cc3f size = 4>6.3pageEncodingå±æ€§</h4></font> åªèƒ½ä¸ºpageEncodingæŒ‡å®šä¸€ä¸ªå€¼ï¼Œä¸å…è®¸ä¸¤æ¬¡ä½¿ç”¨pageæŒ‡ä»¤ç»™pageEncodingå±æ€§æŒ‡å®šä¸åŒçš„æˆ–ç›¸åŒçš„å±æ€§å€¼ã€‚\ä¾‹å¦‚ï¼š<%@ page pageEncoding = "utf-8" %>é‚£ä¹ˆä¿å­˜JSPé¡µé¢åº”å½“å°†â€œç¼–ç â€é€‰æ‹©ä¸ºâ€œutf-8â€.<h4 id="6-4languageå±æ€§"><a href="#6-4languageå±æ€§" class="headerlink" title="6.4languageå±æ€§"></a><font color = 81cc3f size = 4>6.4languageå±æ€§</font></h4><p>languageå±æ€§å®šä¹‰JSPé¡µé¢ä½¿ç”¨çš„è„šæœ¬è¯­è¨€ï¼Œè¯¥å±æ€§çš„å€¼ç›®å‰åªèƒ½å–â€javaâ€ã€‚<br>ä¸ºlanguageå±æ€§æŒ‡å®šå€¼çš„æ ¼å¼æ˜¯ï¼š<br>&lt;%@ page  language&#x3D;â€javaâ€ %&gt;<br>languageå±æ€§çš„é»˜è®¤å€¼æ˜¯â€javaâ€ï¼Œå³å¦‚æœåœ¨JSPé¡µé¢ä¸­æ²¡æœ‰ä½¿ç”¨pageæŒ‡ä»¤æŒ‡å®šè¯¥å±æ€§çš„å€¼çš„ï¼Œé‚£ä¹ˆï¼ŒJSPé¡µé¢é»˜è®¤æœ‰å¦‚ä¸‹çš„pageæŒ‡ä»¤ï¼š&lt;%@ page  language&#x3D;â€javaâ€ %&gt;</p><h4 id="6-5import-å±æ€§"><a href="#6-5import-å±æ€§" class="headerlink" title="6.5import å±æ€§"></a><font color = 81cc3f size = 4>6.5import å±æ€§</font></h4><p>è¯¥å±æ€§çš„ä½œç”¨æ˜¯ä¸ºJSPé¡µé¢å¼•å…¥Javaè¿è¡Œç¯å¢ƒæä¾›çš„åŒ…ä¸­çš„ç±»ã€‚<br>ä¾‹å¦‚ï¼š<br>&lt;%@ page  import&#x3D;â€java.io.<em>â€œ, â€œjava.time.LocalDateâ€ %&gt;<br>&lt;%@ page  import&#x3D;â€java.util.*â€ %&gt;<br>&lt;%@ page  import&#x3D;â€java.io.*â€  %&gt;<br>JSPé¡µé¢é»˜è®¤importå±æ€§å·²ç»æœ‰å¦‚ä¸‹çš„å€¼ï¼š<br>â€œ java.lang.</em>â€œã€ â€œjavax.servlet.<em>â€œã€â€javax.servlet.jsp.</em>â€œã€â€javax.servlet.http.*â€ã€‚</p><h4 id="6-6sessionå±æ€§"><a href="#6-6sessionå±æ€§" class="headerlink" title="6.6sessionå±æ€§"></a><font color = 81cc3f size = 4>6.6sessionå±æ€§</font></h4><p>session å±æ€§ç”¨äºè®¾ç½®æ˜¯å¦éœ€è¦ä½¿ç”¨å†…ç½®çš„sessionå¯¹è±¡ã€‚sessionçš„å±æ€§å€¼å¯ä»¥æ˜¯trueæˆ–falseã€‚sessionå±æ€§é»˜è®¤çš„å±æ€§å€¼æ˜¯trueã€‚</p><h4 id="6-7bufferå±æ€§"><a href="#6-7bufferå±æ€§" class="headerlink" title="6.7bufferå±æ€§"></a><font color = 81cc3f size = 4>6.7bufferå±æ€§</font></h4><p>å†…ç½®è¾“å‡ºæµå¯¹è±¡outè´Ÿè´£å°†æœåŠ¡å™¨çš„æŸäº›ä¿¡æ¯æˆ–è¿è¡Œç»“æœå‘é€åˆ°ç”¨æˆ·ç«¯æ˜¾ç¤ºã€‚bufferå±æ€§ç”¨æ¥æŒ‡å®šoutè®¾ç½®çš„ç¼“å†²åŒºçš„å¤§å°æˆ–ä¸ä½¿ç”¨ç¼“å†²åŒºã€‚ä¾‹å¦‚ï¼š<br>&lt;%@ page buffer&#x3D; â€œ24kbâ€ %&gt;<br>bufferå±æ€§çš„é»˜è®¤å€¼æ˜¯8kb ã€‚</p><h4 id="6-8autoFlushå±æ€§"><a href="#6-8autoFlushå±æ€§" class="headerlink" title="6.8autoFlushå±æ€§"></a><font color = 81cc3f size = 4>6.8autoFlushå±æ€§</font></h4><p>autoFlushå¯ä»¥å–å€¼trueæˆ–falseã€‚autoFlushå±æ€§çš„é»˜è®¤å€¼æ˜¯trueã€‚</p><h4 id="6-9isThreadSafe-å±æ€§"><a href="#6-9isThreadSafe-å±æ€§" class="headerlink" title="6.9isThreadSafe å±æ€§"></a><font color = 81cc3f size = 4>6.9isThreadSafe å±æ€§</h4><p></font> <br>isThreadSafeçš„å±æ€§å€¼å¯å–trueæˆ–falseã€‚<br>isThreadSafeå±æ€§å€¼ä¸ºtrueæ—¶ï¼ŒCPUçš„ä½¿ç”¨æƒåœ¨å„ä¸ªçº¿ç¨‹é—´å¿«é€Ÿåˆ‡æ¢.<br>isThreadSafeå±æ€§å€¼è®¾ç½®æˆfalseæ—¶ï¼Œè¯¥JSPé¡µé¢åŒä¸€æ—¶åˆ»åªèƒ½å“åº”ä¸€ä¸ªç”¨æˆ·çš„è¯·æ±‚ï¼Œå…¶ä»–ç”¨æˆ·é¡»æ’é˜Ÿç­‰å¾…ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCUPè¦ä¿è¯ä¸€ä¸ªçº¿ç¨‹å°†JSPé¡µé¢æ‰§è¡Œå®Œæ¯•æ‰ä¼šæŠŠCPUä½¿ç”¨æƒåˆ‡æ¢ç»™å…¶ä»–çº¿ç¨‹</p><h4 id="6-10info-å±æ€§"><a href="#6-10info-å±æ€§" class="headerlink" title="6.10info å±æ€§"></a><font color = 81cc3f size = 4>6.10info å±æ€§</font></h4><p>infoå±æ€§çš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ç›®çš„æ˜¯ä¸ºJSPé¡µé¢å‡†å¤‡ä¸€ä¸ªå¸¸ç”¨ä½†å¯èƒ½è¦ç»å¸¸ä¿®æ”¹çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œ&lt;%@ page info&#x3D; â€œwe are studentsâ€ %&gt;å¯ä»¥åœ¨JSPé¡µé¢ä¸­ä½¿ç”¨æ–¹æ³•ï¼šgetServletInfo();<br>è·å–infoå±æ€§çš„å±æ€§å€¼ã€‚</p><h4 id="6-11include-æŒ‡ä»¤æ ‡è®°"><a href="#6-11include-æŒ‡ä»¤æ ‡è®°" class="headerlink" title="6.11include æŒ‡ä»¤æ ‡è®° "></a><font color = 81cc3f size = 4>6.11include æŒ‡ä»¤æ ‡è®° </font></h4><p>å¦‚æœéœ€è¦åœ¨JSPé¡µé¢å†…æŸå¤„æ•´ä½“åµŒå…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨includeæŒ‡ä»¤æ ‡è®°ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š<br>&lt;%@ include file&#x3D; â€œæ–‡ä»¶çš„URL â€œ %&gt;<br>â–  åµŒå…¥çš„æ–‡ä»¶çš„ç¼–ç å¿…é¡»å’Œå½“å‰JSPé¡µé¢ä¸€è‡´ï¼Œæ¯”å¦‚äºŒè€…éƒ½æ˜¯utf-8ç¼–ç ã€‚<br>â–  æ‰€è°“é™æ€åµŒå…¥ï¼Œå°±æ˜¯å½“å‰JSPé¡µé¢å’ŒåµŒå…¥çš„æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæ–°çš„JSPé¡µé¢ï¼Œç„¶åTomcatæœåŠ¡å™¨å†å°†è¿™ä¸ªæ–°çš„JSPé¡µé¢è½¬è¯‘æˆJavaæ–‡ä»¶ã€‚å› æ­¤ï¼ŒåµŒå…¥æ–‡ä»¶åï¼Œå¿…é¡»ä¿è¯æ–°åˆå¹¶æˆçš„JSPé¡µé¢ç¬¦åˆJSPè¯­æ³•è§„åˆ™ï¼Œå³èƒ½å¤Ÿæˆä¸ºä¸€ä¸ªJSPé¡µé¢æ–‡ä»¶ã€‚<br>â– includeæŒ‡ä»¤å¯ä»¥å®ç°ä»£ç çš„å¤ç”¨ã€‚æ¯”å¦‚ï¼Œæ¯ä¸ªJSPé¡µé¢ä¸Šéƒ½å¯èƒ½éƒ½éœ€è¦ä¸€ä¸ªå¯¼èˆªæ¡ï¼Œä»¥ä¾¿ç”¨æˆ·åœ¨å„ä¸ªJSPé¡µé¢ä¹‹é—´æ–¹ä¾¿åœ°åˆ‡æ¢ï¼Œé‚£ä¹ˆæ¯ä¸ªJSPé¡µé¢éƒ½å¯ä»¥ä½¿ç”¨includeæŒ‡ä»¤åœ¨é¡µé¢çš„é€‚å½“ä½ç½®æ•´ä½“åµŒå…¥ä¸€ä¸ªç›¸åŒçš„æ–‡ä»¶ã€‚<br>â– å…è®¸è¢«åµŒå…¥çš„æ–‡ä»¶ä½¿ç”¨pageæŒ‡ä»¤æŒ‡å®šcontentTypeå±æ€§çš„å€¼ï¼Œä½†æŒ‡å®šçš„å€¼è¦ä¸åµŒå…¥è¯¥æ–‡ä»¶çš„JSPé¡µé¢ä¸­çš„pageæŒ‡ä»¤æŒ‡å®šçš„contentTypeå±æ€§çš„å€¼ç›¸åŒã€‚</p><p><font color = 41ec52 size = 4>ä»£ç ç¤ºä¾‹</font></p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsp">example2_10_a.jsp<br>&lt;HTML&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html&quot;</span>%&gt;<br>&lt;%@ page pageEncoding=<span class="hljs-string">&quot;utf-8&quot;</span>%&gt;<br>&lt;%@ include file=<span class="hljs-string">&quot;myfile/ok.txt&quot;</span>%&gt;<span class="hljs-comment">//åµŒå…¥ä¸€ä¸ªé™æ€é¡µé¢</span><br>&lt;h1&gt;è¿™é‡Œæ˜¯åŒ—äº¬&lt;/h1&gt;<br>&lt;/HTML&gt;<br><br>example2_10_b.jsp<br>&lt;HTML&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html&quot;</span>%&gt;<br>&lt;%@ page pageEncoding=<span class="hljs-string">&quot;utf-8&quot;</span>%&gt;<br>&lt;%@ include file=<span class="hljs-string">&quot;myfile/ok.txt&quot;</span>%&gt; <span class="hljs-comment">//åµŒå…¥ä¸€ä¸ªé™æ€é¡µé¢</span><br>&lt;h1&gt;è¿™é‡Œæ˜¯å—äº¬&lt;/h1&gt;<br>&lt;/HTML&gt;<br><br>ok.txt<br> <br>&lt;%@ <span class="hljs-type">page</span> <span class="hljs-variable">contentType</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;text/html&quot;</span>%&gt;<br>&lt;center&gt;<br>&lt;A href=<span class="hljs-string">&quot;example2_10_a.jsp&quot;</span>&gt;åŒ—äº¬&lt;/A&gt; <span class="hljs-comment">//è¶…é“¾æ¥ï¼Œç‚¹å‡»å¯ä»¥è·³è½¬åˆ°hrefå±æ€§çš„å€¼çš„é¡µé¢</span><br>&lt;A href=<span class="hljs-string">&quot;example2_10_b.jsp&quot;</span>&gt;å—äº¬&lt;/A&gt;<br></code></pre></td></tr></table></figure><h3 id="ä¸ƒï¼šJSPåŠ¨ä½œæ ‡è®°"><a href="#ä¸ƒï¼šJSPåŠ¨ä½œæ ‡è®°" class="headerlink" title="ä¸ƒï¼šJSPåŠ¨ä½œæ ‡è®°"></a><font color = 3fccca size = 5><strong>ä¸ƒï¼šJSPåŠ¨ä½œæ ‡è®°</strong></font></h3><h4 id="7-1-includeåŠ¨ä½œæ ‡è®°"><a href="#7-1-includeåŠ¨ä½œæ ‡è®°" class="headerlink" title="7.1 includeåŠ¨ä½œæ ‡è®°"></a><font color = 81cc3f size = 4>7.1 includeåŠ¨ä½œæ ‡è®°</font></h4><p>include åŠ¨ä½œæ ‡è®°è¯­æ³•æ ¼å¼ä¸ºï¼š<br>&lt;jsp:include page&#x3D; â€œæ–‡ä»¶çš„URLâ€ &#x2F;&gt;<br>æˆ–<br>&lt;jsp:include page&#x3D; â€œæ–‡ä»¶çš„URLâ€ &gt;<br>   paramå­æ ‡è®°<br></jsp:include><br>includeåŠ¨ä½œæ ‡è®°å‘Šè¯‰JSPé¡µé¢åŠ¨æ€åŒ…å«ä¸€ä¸ªæ–‡ä»¶ï¼Œå³JSPé¡µé¢è¿è¡Œæ—¶æ‰å°†æ–‡ä»¶åŠ å…¥ã€‚ä¸é™æ€åµŒå…¥æ–‡ä»¶çš„includeæŒ‡ä»¤æ ‡è®°ä¸åŒï¼Œå½“TomcatæœåŠ¡å™¨æ ¹æ®JSPé¡µé¢äº§ç”ŸæˆJavaæ–‡ä»¶æ—¶ï¼Œä¸æŠŠJSPé¡µé¢ä¸­åŠ¨ä½œæŒ‡ä»¤includeæ‰€åŒ…å«çš„æ–‡ä»¶ä¸åŸJSPé¡µé¢åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„JSPé¡µé¢ï¼Œè€Œæ˜¯å‘Šè¯‰Javaè§£é‡Šå™¨ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨JSPè¿è¡Œï¼ˆJavaæ–‡ä»¶çš„å­—èŠ‚ç æ–‡ä»¶è¢«åŠ è½½æ‰§è¡Œï¼‰æ—¶æ‰åŒ…å«è¿›æ¥ã€‚å¦‚æœåŒ…å«çš„æ–‡ä»¶æ˜¯æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå°±å°†æ–‡ä»¶çš„å†…å®¹å‘é€åˆ°ç”¨æˆ·ç«¯ï¼Œç”±ç”¨æˆ·ç«¯çš„æµè§ˆå™¨è´Ÿè´£æ˜¾ç¤ºï¼›å¦‚æœåŒ…å«çš„æ–‡ä»¶æ˜¯JSPæ–‡ä»¶ï¼ŒTomcatæœåŠ¡å™¨å°±æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå°†æ‰§è¡Œçš„ç»“æœå‘é€åˆ°ç”¨æˆ·ç«¯ï¼Œå¹¶ç”±ç”¨æˆ·ç«¯çš„æµè§ˆå™¨è´Ÿè´£æ˜¾ç¤ºè¿™äº›ç»“æœã€‚</p><h4 id="7-2-paramåŠ¨ä½œæ ‡è®°"><a href="#7-2-paramåŠ¨ä½œæ ‡è®°" class="headerlink" title="7.2 paramåŠ¨ä½œæ ‡è®°"></a><font color = 81cc3f size = 4>7.2 paramåŠ¨ä½œæ ‡è®°</font></h4><p>paramæ ‡è®°ä»¥â€œåå­—â€”å€¼â€å¯¹çš„å½¢å¼ä¸ºå…¶ä»–æ ‡è®°æä¾›é™„åŠ ä¿¡æ¯ã€‚<br>&lt;jsp:param  name&#x3D; â€œå‚æ•°â€  value&#x3D; â€œ å‚æ•°çš„å€¼â€ &#x2F;&gt;</p><h4 id="7-3-forward-åŠ¨ä½œæ ‡è®°"><a href="#7-3-forward-åŠ¨ä½œæ ‡è®°" class="headerlink" title="7.3 forward åŠ¨ä½œæ ‡è®°"></a><font color = 81cc3f size = 4>7.3 forward åŠ¨ä½œæ ‡è®°</font></h4><p>&lt;jsp:forward page&#x3D;â€è¦è½¬å‘çš„é¡µé¢â€ &#x2F;&gt;<br>æˆ–<br>&lt;jsp:forward page&#x3D;â€è¦è½¬å‘çš„é¡µé¢â€ &gt;<br>   paramå­æ ‡è®°<br></jsp:forward><br>æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼šä»è¯¥æŒ‡ä»¤å¤„åœæ­¢å½“å‰é¡µé¢çš„æ‰§è¡Œï¼Œè€Œè½¬å‘æ‰§è¡Œpageå±æ€§æŒ‡å®šçš„JSPé¡µé¢ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å‰é¡µé¢ä½¿ç”¨forwardåŠ¨ä½œæ ‡è®°è½¬å‘åï¼Œå°½ç®¡ç”¨æˆ·çœ‹åˆ°äº†è½¬å‘åçš„é¡µé¢çš„æ•ˆæœï¼Œä½†æµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºçš„ä»ç„¶æ˜¯è½¬å‘å‰çš„JSPé¡µé¢çš„URLåœ°å€ï¼Œå› æ­¤ï¼Œå¦‚æœåˆ·æ–°æµè§ˆå™¨çš„æ˜¾ç¤ºï¼Œå°†å†æ¬¡æ‰§è¡Œå½“å‰æµè§ˆå™¨åœ°å€æ ä¸­æ˜¾ç¤ºçš„JSPé¡µé¢ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>JavaWeb</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>äºŒåˆ†æŸ¥æ‰¾</title>
    <link href="/2023/04/19/BinarySearch/"/>
    <url>/2023/04/19/BinarySearch/</url>
    
    <content type="html"><![CDATA[<h1 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h1><h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><h3 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p><font size = 3>â€»äºŒåˆ†çš„æœ¬è´¨å¹¶ä¸æ˜¯å•è°ƒæ€§ æœ‰å•è°ƒæ€§ä¸€å®šå¯ä»¥äºŒåˆ† ç”¨äºŒåˆ†çš„ä¸ä¸€å®šæœ‰å•è°ƒæ€§<br>â€»äºŒåˆ†çš„æœ¬è´¨æ˜¯æ‰¾<font color = pink>è¾¹ç•Œç‚¹</font> æ¯æ¬¡äºŒåˆ†æ—¶é€‰æ‹©ç­”æ¡ˆæ‰€åœ¨åŒºé—´ å½“åŒºé—´é•¿åº¦ä¸º1æ—¶ å¾—å‡ºç­”æ¡ˆ<br>â€»è‹¥æœ‰æŸç§æ€§è´¨ä½¿å¾—ä¸€éƒ¨åˆ†æ»¡è¶³ å¦ä¸€éƒ¨åˆ†ä¸æ»¡è¶³,äºŒåˆ†å¯ä»¥ç”¨æ¥å¯»æ‰¾è¿™ä¸ªæ€§è´¨è¾¹ç•Œ(ä¸¤ä¸ªè¾¹ç•Œå¯¹åº”ä¸¤ä¸ªæ¨¡æ¿)<br>â€»<font color = pink>æ•´æ•°äºŒåˆ†éœ€è¦è€ƒè™‘è¾¹ç•Œé—®é¢˜ï¼Œæµ®ç‚¹äºŒåˆ†ä¸éœ€è¦è€ƒè™‘è¾¹ç•Œé—®é¢˜ã€‚</font><br>**å½“l &#x3D; mid æ—¶ mid &#x3D; l + r + 1 &gt;&gt; 1;**<br><strong>å½“r &#x3D; mid æ—¶ mid &#x3D; l + r &gt;&gt; 1;</strong></font></p><h3 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h3> <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(mid)</span> </span>&#123;<span class="hljs-comment">/* ... */</span>&#125;;<span class="hljs-comment">// æ£€æŸ¥midæ˜¯å¦æ»¡è¶³æŸç§æ€§è´¨</span><br><span class="hljs-comment">//å³åŠåŒºé—´æˆç«‹ äºŒåˆ†å³è¾¹çš„åˆ†ç•Œç‚¹</span><br><span class="hljs-comment">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid]å’Œ[mid + 1, r]æ—¶ä½¿ç”¨ï¼š</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">bsearch_1</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;        <br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) r = mid;    <span class="hljs-comment">// check()åˆ¤æ–­midæ˜¯å¦æ»¡è¶³æ€§è´¨</span><br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> l;<br>&#125;<br><br><span class="hljs-comment">//å·¦åŠåŒºé—´æˆç«‹ äºŒåˆ†å·¦è¾¹çš„åˆ†ç•Œç‚¹</span><br><span class="hljs-comment">// åŒºé—´[l, r]è¢«åˆ’åˆ†æˆ[l, mid - 1]å’Œ[mid, r]æ—¶ä½¿ç”¨ï¼š</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">bsearch_2</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (l &lt; r)<br>    &#123;<br>        <span class="hljs-type">int</span> mid = l + r + <span class="hljs-number">1</span> &gt;&gt; <span class="hljs-number">1</span>;       <span class="hljs-comment">//å‘ä¸Šå–æ•´</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) l = mid;<br>        <span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> l;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs cpp">### æ•´æ•°äºŒåˆ†<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> n,m;<br><span class="hljs-type">int</span> q[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q[i]);<br>    &#125;<br>    <span class="hljs-keyword">while</span>(m --)&#123;<br>        <span class="hljs-type">int</span> x;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;x);<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>,r = n - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt; r)&#123;<br>            <span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(q[mid] &gt;= x) r = mid;<br>            <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(q[l] != x) cout &lt;&lt; <span class="hljs-string">&quot;-1 -1&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">else</span>&#123;<br>            cout &lt;&lt; l &lt;&lt;<span class="hljs-string">&#x27; &#x27;</span>;<br>            <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = n<span class="hljs-number">-1</span>;<br>            <span class="hljs-keyword">while</span>(l &lt; r)&#123;<br>                <span class="hljs-type">int</span> mid = l + r + <span class="hljs-number">1</span> &gt;&gt; <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(q[mid] &lt;= x) l =mid;<br>                <span class="hljs-keyword">else</span> r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>            cout &lt;&lt; l &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br><br>### æµ®ç‚¹äºŒåˆ†ï¼ˆæ±‚æŸä¸ªæµ®ç‚¹æ•°çš„å¹³æ–¹æ ¹ï¼‰<br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> x;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;x);<br>    <span class="hljs-type">double</span> l = <span class="hljs-number">0</span>,r = x;<br>    <span class="hljs-keyword">while</span>(r - l &gt; <span class="hljs-number">1e-8</span>)&#123;<br>        <span class="hljs-type">double</span> mid = (l + r) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span>(mid*mid &gt;= x) r = mid;<br>        <span class="hljs-keyword">else</span> l = mid;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lf\n&quot;</span>,l);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><font color = 3fccca size = 4><strong>ç®—æ³•ä¹¦å†™è¿‡ç¨‹</strong></font><br><font color = f18ed3 size = 3><br>â˜…å…ˆå†™mid &#x3D; l + r &gt;&gt; 1;<br>â˜…åœ¨ç¡®å®šcheckå‡½æ•°ï¼›<br>â˜…æœ€åæ ¹æ®æ‰€å†™å‡ºçš„lä¸rçš„å€¼ç¡®å®šmidæ˜¯å¦è¦åŠ 1ï¼Œé˜²æ­¢è¾¹ç•Œé—®é¢˜<br></font><br><font color = 3fccca size = 4>åˆ†æè¾¹ç•Œé—®é¢˜</font><br><font color = e45a7c size = 3>â–²è‹¥å½“l &#x3D; mid æ—¶ï¼Œ æ²¡æœ‰å– mid &#x3D; l + r + 1 &gt;&gt;1 å‘ä¸Šå–æ•´ï¼Œè€Œæ˜¯å–mid &#x3D; l + r &gt;&gt; 1 å‘ä¸‹å–æ•´<br>å½“l &#x3D; r - 1æ—¶ï¼Œmid &#x3D; lï¼Œè‹¥æ­¤æ—¶checkå‡½æ•°è¿”å›å€¼ä¸ºtrueï¼Œåˆ™æ­¤æ—¶è·Ÿæ–°çš„åŒºé—´ä¸º[l,r];æ‰€ä»¥æ­¤æ¬¡å¾ªç¯å¹¶æ²¡æœ‰æ”¹å˜åŒºé—´ï¼Œåˆ™ä¸‹æ¬¡å¾ªç¯ä¹Ÿä¸ä¼šæ”¹å˜åŒºé—´ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥äº†æ­»å¾ªç¯<br>â–²å½“midå–äº† mid &#x3D; l + r + 1 &gt;&gt; 1æ—¶ï¼Œåˆ™mid &#x3D; rï¼Œåˆ™æ­¤æ—¶æ›´æ–°çš„åŒºé—´ä¸º[r,r],å°±ä¼šåœæ­¢å¾ªç¯äº†ï¼Œä¸ä¼šè¿›å…¥æ­»å¾ªç¯äº†.</font></p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å½’å¹¶æ’åº</title>
    <link href="/2023/04/19/merge-sort/"/>
    <url>/2023/04/19/merge-sort/</url>
    
    <content type="html"><![CDATA[<h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><h3 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p><strong>åˆ†æ²»</strong><br>1.ç¡®å®šåˆ†ç•Œç‚¹â€”-mid &#x3D; (l + r) &#x2F; 2  <br>2.é€’å½’æ’åºleftã€right<br>3.å½’å¹¶â€“åˆäºŒä¸ºä¸€ </p><p><strong>å®Œæ•´ä»£ç </strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span> +<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> q[N];<br><span class="hljs-type">int</span> temp[N];<br><span class="hljs-type">int</span> n;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">merge_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> q[],<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(l&gt;=r)<br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">merge_sort</span>(q,l,mid),<span class="hljs-built_in">merge_sort</span>(q,mid+<span class="hljs-number">1</span>,r);<br>    <span class="hljs-type">int</span> k = <span class="hljs-number">0</span>,i = l,j = mid +<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= r)<br>        <span class="hljs-keyword">if</span>(q[i] &lt;= q[j]) temp[k++] = q[i++];<br>        <span class="hljs-keyword">else</span> temp[k++] = q[j++];<br>    <span class="hljs-keyword">while</span>(i &lt;= mid) temp[k++] = q[i++];<br>    <span class="hljs-keyword">while</span>(j &lt;= r) temp[k++] = q[j++];<br>    <span class="hljs-keyword">for</span>(i = l,j = <span class="hljs-number">0</span>;i &lt;= r;i++,j++)<br>    q[i] = temp[j];<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i ++)&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q[i]);<br>    &#125;<br>    <span class="hljs-built_in">merge_sort</span>(q,<span class="hljs-number">0</span>,n<span class="hljs-number">-1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n;i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\t&quot;</span>,q[i]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä»£ç æ¨¡æ¿ï¼š"><a href="#ä»£ç æ¨¡æ¿ï¼š" class="headerlink" title="ä»£ç æ¨¡æ¿ï¼š"></a><strong>ä»£ç æ¨¡æ¿</strong>ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">merge_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> q[],<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>    <span class="hljs-keyword">return</span>;<br>    <span class="hljs-type">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">merge_sort</span>(q,l,mid),<span class="hljs-built_in">merge_sort</span>(q,mid+<span class="hljs-number">1</span>,r);<br>    <span class="hljs-type">int</span> k = <span class="hljs-number">0</span>,i = l,j = mid + <span class="hljs-number">1</span>;        <span class="hljs-comment">//iæŒ‡å‘å·¦è¾¹çš„èµ·ç‚¹ï¼ŒjæŒ‡å‘å³è¾¹çš„èµ·ç‚¹</span><br>    <span class="hljs-keyword">while</span>(i &lt;= mid &amp;&amp; j&lt;= r) <br>        <span class="hljs-keyword">if</span>(q[i] &lt; q[j]) temp[k++] = q[i];<br>        <span class="hljs-keyword">else</span> temp[k++] = q[j];<br>    <span class="hljs-keyword">while</span>(i &lt;= mid) temp[k++] = q[i++];<br>    <span class="hljs-keyword">while</span>(j &lt;= r) temp[k++] = q[j++];<br>    <span class="hljs-keyword">for</span>(i = l, j = <span class="hljs-number">0</span>;i &lt;= r;i++,j++)<br>    q[i] = temp[j];<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç®—æ³•å›¾è§£</strong><br><img src="/2023/04/19/merge-sort/2023-04-19-23-19-36.png"></p><h2 id="å½’å¹¶æ’åºç®—æ³•çš„ç‰¹ç‚¹"><a href="#å½’å¹¶æ’åºç®—æ³•çš„ç‰¹ç‚¹" class="headerlink" title="å½’å¹¶æ’åºç®—æ³•çš„ç‰¹ç‚¹"></a>å½’å¹¶æ’åºç®—æ³•çš„ç‰¹ç‚¹</h2><p><strong>1.æ—¶é—´å¤æ‚åº¦</strong>  <br>å½’å¹¶æ’åºç®—æ³•æ¯æ¬¡å°†åºåˆ—æŠ˜åŠåˆ†ç»„ï¼Œå…±éœ€è¦lognè½®ï¼Œå› æ­¤å½’å¹¶æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)    <br><strong>2.ç©ºé—´å¤æ‚åº¦</strong>    \<br>å½’å¹¶æ’åºç®—æ³•æ’åºè¿‡ç¨‹ä¸­éœ€è¦é¢å¤–çš„ä¸€ä¸ªåºåˆ—å»å­˜å‚¨æ’åºåçš„ç»“æœï¼Œæ‰€å ç©ºé—´æ˜¯nï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸ºO(n) <br><strong>3.ç¨³å®šæ€§</strong>    <br>å½’å¹¶æ’åºç®—æ³•æ’åºè¿‡ç¨‹ä¸­éœ€è¦é¢å¤–çš„ä¸€ä¸ªåºåˆ—å»å­˜å‚¨æ’åºåçš„ç»“æœï¼Œæ‰€å ç©ºé—´æ˜¯nï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¸ºO(n)</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å¿«é€Ÿæ’åº</title>
    <link href="/2023/04/19/quick-sort/"/>
    <url>/2023/04/19/quick-sort/</url>
    
    <content type="html"><![CDATA[<h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><h2 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h2><h3 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p><strong>åˆ†æ²»</strong></p><ol><li>ç¡®å®šåˆ†ç•Œç‚¹ï¼šå¤´ ã€å°¾ ã€ï¼ˆå¤´ï¼‹å°¾ï¼‰&#x2F;2ã€ éšæœº</li><li>è°ƒæ•´åŒºé—´ï¼Œä½¿å¾—å°äºåˆ†ç•Œç‚¹çš„æ•°å…¨åœ¨å…¶å·¦è¾¹ï¼Œå¤§äºåˆ†ç•Œç‚¹çš„æ•°å…¨åœ¨å³è¾¹<ul><li>åˆ©ç”¨ä¸¤ä¸ªæŒ‡é’ˆåœ¨æ•°åˆ—ä¸¤å¤´å‘ä¸­é—´ç§»åŠ¨ï¼Œå·¦è¾¹çš„æŒ‡é’ˆåœ¨ç¢°åˆ°å¤§äºç­‰äºåˆ†ç•Œç‚¹æ—¶åœä¸‹ï¼Œå³è¾¹çš„æŒ‡é’ˆåä¹‹ï¼Œéƒ½åœä¸‹æ—¶äº¤æ¢ä¸¤æ•°ï¼Œå¾ªç¯ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°ä¸¤æŒ‡é’ˆç›¸äº¤</li></ul></li><li>é€’å½’å¤„ç†å·¦å³ä¸¤ç«¯</li></ol><p>é¢˜ç›®:<br><a href="https://www.acwing.com/problem/content/787/">å¿«é€Ÿæ’åº</a></p><p>å®Œæ•´ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span>  std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e6</span>+<span class="hljs-number">10</span>;<span class="hljs-comment">//åŠ 10é˜²æ­¢è¶Šç•Œ</span><br><span class="hljs-type">int</span> n;<br><span class="hljs-type">int</span> q[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">quick_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> q[], <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &gt;= r) <span class="hljs-keyword">return</span>;         <span class="hljs-comment">//é€€å‡ºé€’å½’çš„æ¡ä»¶</span><br>    <span class="hljs-type">int</span> i = l - <span class="hljs-number">1</span>, j = r + <span class="hljs-number">1</span>, x = q[l + r &gt;&gt; <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">while</span> (i &lt; j)           <br>    &#123;<br>        <span class="hljs-keyword">do</span> i ++ ; <span class="hljs-keyword">while</span> (q[i] &lt; x);<br>        <span class="hljs-keyword">do</span> j -- ; <span class="hljs-keyword">while</span> (q[j] &gt; x);<br>        <span class="hljs-keyword">if</span> (i &lt; j) <span class="hljs-built_in">swap</span>(q[i], q[j]);<br>    &#125;<br>    <span class="hljs-built_in">quick_sort</span>(q, l, j),<span class="hljs-built_in">quick_sort</span>(q, j + <span class="hljs-number">1</span>, r);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q[i]);<br>    <span class="hljs-built_in">quick_sort</span>(q,<span class="hljs-number">0</span>,n<span class="hljs-number">-1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,q[i]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä»£ç æ¨¡æ¿ï¼š"><a href="#ä»£ç æ¨¡æ¿ï¼š" class="headerlink" title="ä»£ç æ¨¡æ¿ï¼š"></a><strong>ä»£ç æ¨¡æ¿</strong>ï¼š</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">quick_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> q[], <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l &gt;= r) <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-type">int</span> i = l - <span class="hljs-number">1</span>, j = r + <span class="hljs-number">1</span>, x = q[l + r &gt;&gt; <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">while</span> (i &lt; j)<br>    &#123;<br>        <span class="hljs-keyword">do</span> i ++ ; <span class="hljs-keyword">while</span> (q[i] &lt; x);<br>        <span class="hljs-keyword">do</span> j -- ; <span class="hljs-keyword">while</span> (q[j] &gt; x);<br>        <span class="hljs-keyword">if</span> (i &lt; j) <span class="hljs-built_in">swap</span>(q[i], q[j]);<br>    &#125;<br>    <span class="hljs-built_in">quick_sort</span>(q, l, j), <span class="hljs-built_in">quick_sort</span>(q, j + <span class="hljs-number">1</span>, r);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p><strong>è‹¥xå–q[l]æˆ–è€…q[r]è¦è€ƒè™‘è¾¹ç•Œé—®é¢˜</strong><br>è‹¥ é€’å½’å¤„ç”¨ i-1 å’Œ i ,åˆ™x<strong>ä¸å¯ä»¥</strong>å–q[l] ,<strong>å¯ä»¥</strong>å–q[r]æˆ–è€…q[(l+r+1)&#x2F;2]æˆ–è€…q[l+r+1&gt;&gt;1]ç­‰<br>è‹¥ é€’å½’å¤„ç”¨ j å’Œ j+1 ,åˆ™x<strong>ä¸å¯ä»¥</strong>å–q[r] ,<strong>å¯ä»¥</strong>å–q[l]æˆ–è€…q[(l+r)&#x2F;2]æˆ–è€…q[l+r&gt;&gt;1]ç­‰<br>å¦åˆ™å¯èƒ½ä¼šå‡ºç°æ­»å¾ªç¯<br>ä¾‹å¦‚:xå–q[l],é€’å½’å¤„ç”¨i-1å’Œi,æ’åº12,ä¼šæ— é™è°ƒç”¨é€’å½’quick_sort(q,0,1),å³æ— é™åˆ’åˆ†</p><p><strong>å¿«æ’æ˜¯ä¸ç¨³å®šçš„</strong><br>åœ¨æ’åºå‰ï¼Œå…³é”®å­—å€¼ç›¸ç­‰çš„ä¸åŒè®°å½•ï¼Œæ’åºåç›¸å¯¹ä½ç½®ä¿æŒä¸å˜çš„æ’åºæ–¹æ³•ï¼Œç§°ä¸ºç¨³å®šæ’åºæ–¹æ³•ï¼ˆä½†å…¶å®æ²¡è½¯ç”¨ï¼‰<br>å¦‚ä½•æŠŠå¿«æ’å˜æˆç¨³å®šçš„å‘¢â€”â€”â€”â€”â€”æŠŠå¿«æ’æ¯ä¸ªæ•°å˜æˆä¸åŒçš„ï¼Œå¯æŠŠæ¯ä¸ªæ•°æ®å¼„æˆäºŒå…ƒç»„ï¼ŒåŒå…³é”®å­—æ’åº</p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a><strong>åˆ†æ</strong></h3><p><strong>è¾¹ç•Œé—®é¢˜åˆ†æ</strong><br>åˆ†æ²»ç®—æ³•æœ€æ€•<code>nåˆ†æˆ0å’Œn,æˆ–nåˆ†æˆnå’Œ0</code>,è¿™ä¼šé€ æˆ<em>æ— é™åˆ’åˆ†</em><br>è‹¥<code>x=q[l]</code>æ—¶ æœ€æç«¯æƒ…å†µæ˜¯<code>i=l,j=l</code> æ­¤æ—¶è‹¥åˆ’åˆ†ä¸º<code>(l,i-1)</code>å’Œ<code>(i,r)</code> å…¶ä¸­<code>(i,r)</code>åˆ’åˆ†çš„å°±æ˜¯<code>n</code> è¿™å°±å‡ºç°äº†<em>æ— é™åˆ’åˆ†</em><br>è‹¥<code>x=q[r]</code>æ—¶ æœ€æç«¯æƒ…å†µæ—¶<code>i=r,j=r</code> æ­¤æ—¶è‹¥åˆ’åˆ†ä¸º<code>(l,j)</code>å’Œ<code>(j+1,r)</code> å…¶ä¸­<code>(l,j)</code>åˆ’åˆ†çš„å°±æ˜¯<code>n</code> è¿™å°±å‡ºç°äº†<em>æ— é™åˆ’åˆ†</em><br>æœ€åæ˜¯å…³äº<code>q[l+r&gt;&gt;1]</code>å’Œ<code>q[l+r+1&gt;&gt;1]</code> çš„é—®é¢˜,<br><code>q[l+r+1&gt;&gt;1]</code>æ˜¯å‘ä¸Šå–æ•´,å› ä¸ºå‘ä¸Šå–æ•´æ—¶æœ‰å¯èƒ½å–åˆ°q[r],ä¸ºäº†é¿å…<em>æ— é™åˆ’åˆ†</em>,æ‰€ä»¥é€’å½’å¤„åˆ’åˆ†åº”è¯¥æ˜¯i-1å’Œi<br><code>q[l+r&gt;&gt;1]</code>æ˜¯å‘ä¸‹å–æ•´,å› ä¸ºå‘ä¸‹å–æ•´æ—¶æœ‰å¯èƒ½å–åˆ°q[l],ä¸ºäº†é¿å…<em>æ— é™åˆ’åˆ†</em>,æ‰€ä»¥é€’å½’å¤„åˆ’åˆ†åº”è¯¥æ—¶jå’Œj+1<br><a href="https://www.acwing.com/solution/content/16777/"></a></p><p>æœ€å<br>ä¸ºä»€ä¹ˆyæ€»è¦<code>const int N = 1e6+10;</code> è¦åŠ 10å‘¢ æˆ‘ä¹Ÿæ²¡æ‡‚ ä½†å‚è€ƒ:<a href="https://www.zhihu.com/question/35047872">çŸ¥ä¹</a></p><h2 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h2><h3 id="ç®—æ³•æ€æƒ³-1"><a href="#ç®—æ³•æ€æƒ³-1" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>åˆ†æ²»</p><ol><li>ç¡®å®šåˆ†ç•Œç‚¹ï¼šmid&#x3D;l+r&gt;&gt;1</li><li>é€’å½’æ’åºleftï¼Œright</li><li>å½’å¹¶â€”â€”â€”â€”åˆäºŒä¸ºä¸€</li></ol><h3 id="æ³¨æ„-1"><a href="#æ³¨æ„-1" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•åŸºç¡€</category>
      
      <category>ç¬¬ä¸€ç« </category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
